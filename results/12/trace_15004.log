logs for node: 1

----- Stdout -----
1227963:C 05 Jan 2024 09:16:10.007 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1227963:C 05 Jan 2024 09:16:10.007 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1227963:C 05 Jan 2024 09:16:10.007 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1227963, just started
1227963:C 05 Jan 2024 09:16:10.007 * Configuration loaded
1227963:M 05 Jan 2024 09:16:10.007 * monotonic clock: POSIX clock_gettime
1227963:M 05 Jan 2024 09:16:10.008 * Running mode=standalone, port=5021.
1227963:M 05 Jan 2024 09:16:10.014 * <raft> RedisRaft version 255.255.255 [b779b199]
1227963:M 05 Jan 2024 09:16:10.019 * <raft> Initializing test network
1227963:M 05 Jan 2024 09:16:10.019 * <raft> Created test network client
1227963:M 05 Jan 2024 09:16:10.020 * <raft> Raft module loaded, state is 'uninitialized'
1227963:M 05 Jan 2024 09:16:10.020 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1227963:M 05 Jan 2024 09:16:10.021 * Server initialized
1227963:M 05 Jan 2024 09:16:10.021 . The AOF directory appendonlydir doesn't exist
1227963:M 05 Jan 2024 09:16:10.022 * Ready to accept connections tcp
1227963:M 05 Jan 2024 09:16:10.022 - Accepted 127.0.0.1:56366
1227963:M 05 Jan 2024 09:16:10.022 # Missing implement of connection type tls
1227963:M 05 Jan 2024 09:16:10.022 . 1 clients connected (0 replicas), 1743992 bytes in use
1227963:M 05 Jan 2024 09:16:10.028 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
1227963:M 05 Jan 2024 09:16:10.033 * <raft> State change: Node is now a leader, term 1
1227963:M 05 Jan 2024 09:16:10.033 * <raft> Cluster Membership: term:1 index:1 nodes: id=1,voting=0,active=1,addr=-
1227963:M 05 Jan 2024 09:16:10.033 * <raft> Test network starting message polling thread
1227963:M 05 Jan 2024 09:16:10.034 * <raft> Raft Cluster initialized, node id: 1, dbid: 528357dad910a2c063070df75177e527
1227963:M 05 Jan 2024 09:16:10.152 - Accepted 127.0.0.1:56368
1227963:M 05 Jan 2024 09:16:10.152 * <raft> Cluster Membership: term:1 index:3 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5022
1227963:M 05 Jan 2024 09:16:10.159 - Client closed connection id=9 addr=127.0.0.1:56368 laddr=127.0.0.1:5021 fd=12 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=raft.node user=default redir=-1 resp=2 lib-name= lib-ver=
1227963:M 05 Jan 2024 09:16:10.278 - Accepted 127.0.0.1:56372
1227963:M 05 Jan 2024 09:16:10.278 * <raft> Cluster Membership: term:1 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5022 id=3,voting=0,active=1,addr=localhost:5023
1227963:M 05 Jan 2024 09:16:10.286 - Client closed connection id=10 addr=127.0.0.1:56372 laddr=127.0.0.1:5021 fd=13 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=raft.node user=default redir=-1 resp=2 lib-name= lib-ver=
1227963:signal-handler (1704442571) Received SIGINT scheduling shutdown...
1227963:signal-handler (1704442571) You insist... exiting now.
1228902:C 05 Jan 2024 09:16:12.358 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1228902:C 05 Jan 2024 09:16:12.358 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1228902:C 05 Jan 2024 09:16:12.358 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1228902, just started
1228902:C 05 Jan 2024 09:16:12.358 * Configuration loaded
1228902:M 05 Jan 2024 09:16:12.358 * monotonic clock: POSIX clock_gettime
1228902:M 05 Jan 2024 09:16:12.359 * Running mode=standalone, port=5021.
1228902:M 05 Jan 2024 09:16:12.365 * <raft> RedisRaft version 255.255.255 [b779b199]
1228902:M 05 Jan 2024 09:16:12.369 * <raft> Initializing test network
1228902:M 05 Jan 2024 09:16:12.370 * <raft> Created test network client
1228902:M 05 Jan 2024 09:16:12.373 * <raft> Raft module loaded, state is 'loading'
1228902:M 05 Jan 2024 09:16:12.373 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1228902:M 05 Jan 2024 09:16:12.373 * Server initialized
1228902:M 05 Jan 2024 09:16:12.373 . The AOF directory appendonlydir doesn't exist
1228902:M 05 Jan 2024 09:16:12.373 * Ready to accept connections tcp
1228902:M 05 Jan 2024 09:16:12.373 . 0 clients connected (0 replicas), 1746688 bytes in use
1228902:M 05 Jan 2024 09:16:12.473 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1228902:M 05 Jan 2024 09:16:12.473 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
1228902:M 05 Jan 2024 09:16:12.474 * <raft> Test network starting message polling thread
1228902:M 05 Jan 2024 09:16:12.474 * <raft> Cluster Membership: term:0 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5022
1228902:M 05 Jan 2024 09:16:12.474 * <raft> Cluster Membership: term:0 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5022 id=3,voting=0,active=1,addr=localhost:5023
1228902:M 05 Jan 2024 09:16:12.474 * <raft> Raft state after loading log: log_count=4, first_idx=1, current_idx=4, last_applied_idx=0
1228902:M 05 Jan 2024 09:16:12.474 . <raft> Raft term=1, vote=-1
1228902:M 05 Jan 2024 09:16:12.481 * <raft> State change: Node is now a leader, term 2
1228902:M 05 Jan 2024 09:16:12.481 * <raft> Cluster Membership: term:2 index:5 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5022 id=3,voting=0,active=1,addr=localhost:5023
1228902:M 05 Jan 2024 09:16:13.276 - Accepted 127.0.0.1:56668
1228902:M 05 Jan 2024 09:16:13.276 # Missing implement of connection type tls
1228902:signal-handler (1704442573) Received SIGINT scheduling shutdown...
1228902:signal-handler (1704442573) You insist... exiting now.

----- Stderr -----
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 0
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 4
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 0
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 4




logs for node: 2

----- Stdout -----
1227987:C 05 Jan 2024 09:16:10.036 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1227987:C 05 Jan 2024 09:16:10.036 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1227987:C 05 Jan 2024 09:16:10.036 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1227987, just started
1227987:C 05 Jan 2024 09:16:10.036 * Configuration loaded
1227987:M 05 Jan 2024 09:16:10.037 * monotonic clock: POSIX clock_gettime
1227987:M 05 Jan 2024 09:16:10.037 * Running mode=standalone, port=5022.
1227987:M 05 Jan 2024 09:16:10.044 * <raft> RedisRaft version 255.255.255 [b779b199]
1227987:M 05 Jan 2024 09:16:10.049 * <raft> Initializing test network
1227987:M 05 Jan 2024 09:16:10.050 * <raft> Created test network client
1227987:M 05 Jan 2024 09:16:10.051 * <raft> Raft module loaded, state is 'uninitialized'
1227987:M 05 Jan 2024 09:16:10.051 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1227987:M 05 Jan 2024 09:16:10.051 * Server initialized
1227987:M 05 Jan 2024 09:16:10.052 . The AOF directory appendonlydir doesn't exist
1227987:M 05 Jan 2024 09:16:10.052 * Ready to accept connections tcp
1227987:M 05 Jan 2024 09:16:10.052 . 0 clients connected (0 replicas), 1726224 bytes in use
1227987:M 05 Jan 2024 09:16:10.058 - Accepted 127.0.0.1:33648
1227987:M 05 Jan 2024 09:16:10.058 # Missing implement of connection type tls
1227987:M 05 Jan 2024 09:16:10.151 - <raft> join cluster, connecting to localhost:5021
1227987:M 05 Jan 2024 09:16:10.153 * <raft> Joined Raft cluster, node id: 2, dbid: 528357dad910a2c063070df75177e527
1227987:M 05 Jan 2024 09:16:10.159 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1227987:M 05 Jan 2024 09:16:10.159 * <raft> Test network starting message polling thread
1227987:M 05 Jan 2024 09:16:10.222 - Accepted 127.0.0.1:33656
1227987:signal-handler (1704442570) Received SIGINT scheduling shutdown...
1227987:signal-handler (1704442570) You insist... exiting now.
1228748:C 05 Jan 2024 09:16:11.817 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1228748:C 05 Jan 2024 09:16:11.817 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1228748:C 05 Jan 2024 09:16:11.817 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1228748, just started
1228748:C 05 Jan 2024 09:16:11.817 * Configuration loaded
1228748:M 05 Jan 2024 09:16:11.818 * monotonic clock: POSIX clock_gettime
1228748:M 05 Jan 2024 09:16:11.818 * Running mode=standalone, port=5022.
1228748:M 05 Jan 2024 09:16:11.824 * <raft> RedisRaft version 255.255.255 [b779b199]
1228748:M 05 Jan 2024 09:16:11.828 * <raft> Initializing test network
1228748:M 05 Jan 2024 09:16:11.829 * <raft> Created test network client
1228748:M 05 Jan 2024 09:16:11.832 * <raft> Raft module loaded, state is 'loading'
1228748:M 05 Jan 2024 09:16:11.832 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1228748:M 05 Jan 2024 09:16:11.833 * Server initialized
1228748:M 05 Jan 2024 09:16:11.833 . The AOF directory appendonlydir doesn't exist
1228748:M 05 Jan 2024 09:16:11.833 * Ready to accept connections tcp
1228748:M 05 Jan 2024 09:16:11.833 . 0 clients connected (0 replicas), 1746720 bytes in use
1228748:M 05 Jan 2024 09:16:11.932 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1228748:M 05 Jan 2024 09:16:11.933 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1228748:M 05 Jan 2024 09:16:11.933 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1228748:M 05 Jan 2024 09:16:11.933 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1228748:M 05 Jan 2024 09:16:11.933 # Crashed running the instruction at: 0x7f284d369d3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f284d369d3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f284d31afd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f284d369d3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f284d31af32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f284d305472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f284d305395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f284d313e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f284d28eaea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f284d27f088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(moduleTimerHandler+0x21c)[0x55b80e95298c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(+0x81705)[0x55b80e85c705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(aeMain+0x1c8)[0x55b80e866cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(main+0x3cd)[0x55b80e85be2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f284d3061ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f284d306285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(_start+0x2a)[0x55b80e85c5aa]

------ REGISTERS ------
1228748:M 05 Jan 2024 09:16:11.934 # 
RAX:0000000000000000 RBX:000000000012bfcc
RCX:00007f284d369d3c RDX:0000000000000006
RDI:000000000012bfcc RSI:000000000012bfcc
RBP:00007f284d2db1c0 RSP:00007ffd665cdca0
R8 :0000000000000007 R9 :000055b80f7d9820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f284d2bb05c R15:000055b80e9512b0
RIP:00007f284d369d3c EFL:0000000000000246
CSGSFS:002b000000000033
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdcaf) -> 000055b80f7d98d0
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdcae) -> 00007f284d4b1c60
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdcad) -> 00000000000002b1
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdcac) -> 000055b80f7d9820
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdcab) -> 00000000000006a6
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdcaa) -> 0000000000000020
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca9) -> 00007f284d305472
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca8) -> 00007f284d4b2e70
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca7) -> 00007f284d31af32
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca6) -> 00007f284d2bb05c
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca5) -> 00000000000006a6
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca4) -> 00007f284d2ba720
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca3) -> 00007f284d2db1c0
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca2) -> 0000000000000006
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca1) -> db69bb6509a32e00
1228748:M 05 Jan 2024 09:16:11.934 # (00007ffd665cdca0) -> 000055b80e9512b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1228748
process_supervised:no
run_id:10699238ad965038e3ea51ea8dabf508a43fbae5
tcp_port:5022
server_time_usec:1704442571932665
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9943755
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5022

# Clients
connected_clients:0
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1753936
used_memory_human:1.67M
used_memory_rss:18006016
used_memory_rss_human:17.17M
used_memory_peak:1753936
used_memory_peak_human:1.67M
used_memory_peak_perc:100.41%
used_memory_overhead:1746760
used_memory_startup:1746576
used_memory_dataset:7176
used_memory_dataset_perc:97.50%
allocator_allocated:2054632
allocator_active:2592768
allocator_resident:10887168
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.26
allocator_frag_bytes:538136
allocator_rss_ratio:4.20
allocator_rss_bytes:8294400
rss_overhead_ratio:1.65
rss_overhead_bytes:7118848
mem_fragmentation_ratio:10.31
mem_fragmentation_bytes:16259296
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704442571
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:0
total_commands_processed:6
instantaneous_ops_per_sec:25
total_net_input_bytes:0
total_net_output_bytes:0
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:0
total_writes_processed:0
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:8f776a0cc1ef31944288c5fe1eebb79bc1985a1b
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.000000
used_cpu_user:0.016800
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.000000
used_cpu_user_main_thread:0.016403

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_command:calls=2,usec=1514,usec_per_call=757.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=6,usec_per_call=6.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_command:p50=729.087,p99=786.431,p99.9=786.431
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=6.015,p99=6.015,p99.9=6.015

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:528357dad910a2c063070df75177e527
raft_node_id:2
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis2.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
proto-max-bulk-len 512mb
io-threads 1
sanitize-dump-payload no
replica-read-only yes
client-query-buffer-limit 1gb
activedefrag no
lazyfree-lazy-eviction no
io-threads-do-reads no
lazyfree-lazy-expire no
lazyfree-lazy-user-del no
lazyfree-lazy-server-del no
list-compress-depth 0
slave-read-only yes
repl-diskless-load disabled
lazyfree-lazy-user-flush no
repl-diskless-sync yes

------ FAST MEMORY TEST ------
1228748:M 05 Jan 2024 09:16:11.934 # Bio worker thread #0 terminated
1228748:M 05 Jan 2024 09:16:11.934 # Bio worker thread #1 terminated
1228748:M 05 Jan 2024 09:16:11.934 # Bio worker thread #2 terminated
*** Preparing to test memory region 55b80eb32000 (2273280 bytes)
*** Preparing to test memory region 55b80f784000 (405504 bytes)
*** Preparing to test memory region 7f28407ff000 (8388608 bytes)
*** Preparing to test memory region 7f2841000000 (8388608 bytes)
*** Preparing to test memory region 7f2841800000 (6291456 bytes)
*** Preparing to test memory region 7f2841ffd000 (8388608 bytes)
*** Preparing to test memory region 7f28427fe000 (8388608 bytes)
*** Preparing to test memory region 7f2842fff000 (8388608 bytes)
*** Preparing to test memory region 7f2843800000 (8388608 bytes)
*** Preparing to test memory region 7f2844000000 (135168 bytes)
*** Preparing to test memory region 7f2848049000 (8388608 bytes)
*** Preparing to test memory region 7f284884a000 (8388608 bytes)
*** Preparing to test memory region 7f284904b000 (8388608 bytes)
*** Preparing to test memory region 7f284984c000 (8388608 bytes)
*** Preparing to test memory region 7f284a04d000 (8388608 bytes)
*** Preparing to test memory region 7f284a84e000 (8388608 bytes)
*** Preparing to test memory region 7f284b04e000 (2621440 bytes)
*** Preparing to test memory region 7f284b2dd000 (8192 bytes)
*** Preparing to test memory region 7f284b87f000 (12288 bytes)
*** Preparing to test memory region 7f284bdac000 (8192 bytes)
*** Preparing to test memory region 7f284c018000 (16384 bytes)
*** Preparing to test memory region 7f284ca00000 (8388608 bytes)
*** Preparing to test memory region 7f284d22a000 (4096 bytes)
*** Preparing to test memory region 7f284d24f000 (12288 bytes)
*** Preparing to test memory region 7f284d2d4000 (45056 bytes)
*** Preparing to test memory region 7f284d4b3000 (53248 bytes)
*** Preparing to test memory region 7f284d5d0000 (8192 bytes)
.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O
Fast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.

------ DUMPING CODE AROUND EIP ------
Symbol: (null) (base: (nil))
Module: /lib/x86_64-linux-gnu/libc.so.6 (base 0x7f284d2df000)
$ xxd -r -p /tmp/dump.hex /tmp/dump.bin
$ objdump --adjust-vma=(nil) -D -b binary -m i386:x86-64 /tmp/dump.bin
------

=== REDIS BUG REPORT END. Make sure to include from START to END. ===

       Please report the crash by opening an issue on github:

           http://github.com/redis/redis/issues

  If a Redis module was involved, please open in the module's repo instead.

  Suspect RAM error? Use redis-server --test-memory to verify it.

  Some other issues could be detected by redis-server --check-system
1228878:C 05 Jan 2024 09:16:12.327 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1228878:C 05 Jan 2024 09:16:12.327 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1228878:C 05 Jan 2024 09:16:12.327 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1228878, just started
1228878:C 05 Jan 2024 09:16:12.327 * Configuration loaded
1228878:M 05 Jan 2024 09:16:12.328 * monotonic clock: POSIX clock_gettime
1228878:M 05 Jan 2024 09:16:12.328 * Running mode=standalone, port=5022.
1228878:M 05 Jan 2024 09:16:12.336 * <raft> RedisRaft version 255.255.255 [b779b199]
1228878:M 05 Jan 2024 09:16:12.340 * <raft> Initializing test network
1228878:M 05 Jan 2024 09:16:12.341 * <raft> Created test network client
1228878:M 05 Jan 2024 09:16:12.344 * <raft> Raft module loaded, state is 'loading'
1228878:M 05 Jan 2024 09:16:12.344 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1228878:M 05 Jan 2024 09:16:12.344 * Server initialized
1228878:M 05 Jan 2024 09:16:12.344 . The AOF directory appendonlydir doesn't exist
1228878:M 05 Jan 2024 09:16:12.344 * Ready to accept connections tcp
1228878:M 05 Jan 2024 09:16:12.344 . 0 clients connected (0 replicas), 1746720 bytes in use
1228878:M 05 Jan 2024 09:16:12.445 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1228878:M 05 Jan 2024 09:16:12.445 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1228878:M 05 Jan 2024 09:16:12.445 * <raft> Test network starting message polling thread
1228878:M 05 Jan 2024 09:16:12.445 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1228878:M 05 Jan 2024 09:16:12.445 # Crashed running the instruction at: 0x7f6c22e3bd3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f6c22e3bd3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f6c22decfd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f6c22e3bd3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f6c22decf32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f6c22dd7472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f6c22dd7395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f6c22de5e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f6c22d60aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f6c22d51088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(moduleTimerHandler+0x21c)[0x557966b7398c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(+0x81705)[0x557966a7d705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(aeMain+0x1c8)[0x557966a87cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(main+0x3cd)[0x557966a7ce2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f6c22dd81ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f6c22dd8285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(_start+0x2a)[0x557966a7d5aa]

------ REGISTERS ------
1228878:M 05 Jan 2024 09:16:12.446 # 
RAX:0000000000000000 RBX:000000000012c04e
RCX:00007f6c22e3bd3c RDX:0000000000000006
RDI:000000000012c04e RSI:000000000012c04e
RBP:00007f6c22dad1c0 RSP:00007ffe6bac7200
R8 :0000000000000007 R9 :00005579676c2820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f6c22d8d05c R15:0000557966b722b0
RIP:00007f6c22e3bd3c EFL:0000000000000246
CSGSFS:002b000000000033
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac720f) -> 00005579676c28d0
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac720e) -> 00007f6c22f83c60
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac720d) -> 00000000000002b1
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac720c) -> 00005579676c2820
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac720b) -> 00000000000006a6
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac720a) -> 0000000000000020
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7209) -> 00007f6c22dd7472
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7208) -> 00007f6c22f84e70
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7207) -> 00007f6c22decf32
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7206) -> 00007f6c22d8d05c
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7205) -> 00000000000006a6
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7204) -> 00007f6c22d8c720
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7203) -> 00007f6c22dad1c0
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7202) -> 0000000000000006
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7201) -> 0ad531fc8655cf00
1228878:M 05 Jan 2024 09:16:12.446 # (00007ffe6bac7200) -> 0000557966b722b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1228878
process_supervised:no
run_id:56d9549acc460d33f7ff5a9b1ae0dfbc80e30e30
tcp_port:5022
server_time_usec:1704442572445100
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9943756
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5022

# Clients
connected_clients:0
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1753936
used_memory_human:1.67M
used_memory_rss:17735680
used_memory_rss_human:16.91M
used_memory_peak:1753936
used_memory_peak_human:1.67M
used_memory_peak_perc:100.41%
used_memory_overhead:1746760
used_memory_startup:1746576
used_memory_dataset:7176
used_memory_dataset_perc:97.50%
allocator_allocated:2164096
allocator_active:2732032
allocator_resident:10883072
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.26
allocator_frag_bytes:567936
allocator_rss_ratio:3.98
allocator_rss_bytes:8151040
rss_overhead_ratio:1.63
rss_overhead_bytes:6852608
mem_fragmentation_ratio:10.15
mem_fragmentation_bytes:15988960
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704442572
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:0
total_commands_processed:6
instantaneous_ops_per_sec:23
total_net_input_bytes:0
total_net_output_bytes:0
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:0
total_writes_processed:0
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:cf338ae7ec23ff5620278ee35c2612a0b77e3e3e
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.001612
used_cpu_user:0.017061
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.000000
used_cpu_user_main_thread:0.018137

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_command:calls=2,usec=1591,usec_per_call=795.50,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=7,usec_per_call=7.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_command:p50=749.567,p99=847.871,p99.9=847.871
latency_percentiles_usec_config|set:p50=7.007,p99=7.007,p99.9=7.007
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:528357dad910a2c063070df75177e527
raft_node_id:2
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis2.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
lazyfree-lazy-user-flush no
replica-read-only yes
list-compress-depth 0
io-threads-do-reads no
lazyfree-lazy-server-del no
lazyfree-lazy-expire no
repl-diskless-load disabled
client-query-buffer-limit 1gb
activedefrag no
lazyfree-lazy-user-del no
io-threads 1
proto-max-bulk-len 512mb
lazyfree-lazy-eviction no
slave-read-only yes
sanitize-dump-payload no
repl-diskless-sync yes

------ FAST MEMORY TEST ------
1228878:M 05 Jan 2024 09:16:12.446 # Bio worker thread #0 terminated
1228878:M 05 Jan 2024 09:16:12.446 # Bio worker thread #1 terminated
1228878:M 05 Jan 2024 09:16:12.446 # Bio worker thread #2 terminated
*** Preparing to test memory region 557966d53000 (2273280 bytes)
*** Preparing to test memory region 55796766d000 (405504 bytes)
*** Preparing to test memory region 7f6c15fff000 (8388608 bytes)
*** Preparing to test memory region 7f6c16800000 (8388608 bytes)
*** Preparing to test memory region 7f6c17000000 (6291456 bytes)
*** Preparing to test memory region 7f6c177f8000 (8388608 bytes)
*** Preparing to test memory region 7f6c17ff9000 (8388608 bytes)
*** Preparing to test memory region 7f6c187fa000 (8388608 bytes)
*** Preparing to test memory region 7f6c18ffb000 (8388608 bytes)
*** Preparing to test memory region 7f6c197fc000 (8388608 bytes)
*** Preparing to test memory region 7f6c19ffd000 (8388608 bytes)
*** Preparing to test memory region 7f6c1a7fe000 (8388608 bytes)
*** Preparing to test memory region 7f6c1afff000 (8388608 bytes)
*** Preparing to test memory region 7f6c1b800000 (8388608 bytes)
*** Preparing to test memory region 7f6c1c000000 (135168 bytes)
*** Preparing to test memory region 7f6c20321000 (8388608 bytes)
*** Preparing to test memory region 7f6c20b21000 (2621440 bytes)
*** Preparing to test memory region 7f6c20db0000 (8192 bytes)
*** Preparing to test memory region 7f6c2147f000 (12288 bytes)
*** Preparing to test memory region 7f6c21a18000 (16384 bytes)
*** Preparing to test memory region 7f6c21acd000 (8192 bytes)
*** Preparing to test memory region 7f6c22400000 (8388608 bytes)
*** Preparing to test memory region 7f6c22c51000 (4096 bytes)
*** Preparing to test memory region 7f6c22d21000 (12288 bytes)
*** Preparing to test memory region 7f6c22da6000 (45056 bytes)
*** Preparing to test memory region 7f6c22f85000 (53248 bytes)
*** Preparing to test memory region 7f6c230a2000 (8192 bytes)
.1229318:C 05 Jan 2024 09:16:13.156 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1229318:C 05 Jan 2024 09:16:13.156 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1229318:C 05 Jan 2024 09:16:13.156 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1229318, just started
1229318:C 05 Jan 2024 09:16:13.156 * Configuration loaded
1229318:M 05 Jan 2024 09:16:13.156 * monotonic clock: POSIX clock_gettime
1229318:M 05 Jan 2024 09:16:13.157 * Running mode=standalone, port=5022.
1229318:M 05 Jan 2024 09:16:13.163 * <raft> RedisRaft version 255.255.255 [b779b199]
1229318:M 05 Jan 2024 09:16:13.168 * <raft> Initializing test network
1229318:M 05 Jan 2024 09:16:13.168 * <raft> Created test network client
1229318:M 05 Jan 2024 09:16:13.170 * <raft> Raft module loaded, state is 'loading'
1229318:M 05 Jan 2024 09:16:13.170 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1229318:M 05 Jan 2024 09:16:13.170 * Server initialized
1229318:M 05 Jan 2024 09:16:13.170 . The AOF directory appendonlydir doesn't exist
1229318:M 05 Jan 2024 09:16:13.170 * Ready to accept connections tcp
1229318:M 05 Jan 2024 09:16:13.170 . 0 clients connected (0 replicas), 1746688 bytes in use
1229318:M 05 Jan 2024 09:16:13.185 - Accepted 127.0.0.1:38312
1229318:M 05 Jan 2024 09:16:13.185 # Missing implement of connection type tls
1229318:M 05 Jan 2024 09:16:13.270 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1229318:M 05 Jan 2024 09:16:13.271 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1229318:M 05 Jan 2024 09:16:13.271 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1229318:M 05 Jan 2024 09:16:13.271 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1229318:M 05 Jan 2024 09:16:13.271 # Crashed running the instruction at: 0x7f52c1254d3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f52c1254d3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f52c1205fd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f52c1254d3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f52c1205f32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f52c11f0472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f52c11f0395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f52c11fee32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f52c1179aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f52c116a088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(moduleTimerHandler+0x21c)[0x5586ae4db98c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(+0x81705)[0x5586ae3e5705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(aeMain+0x1c8)[0x5586ae3efcb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(main+0x3cd)[0x5586ae3e4e2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f52c11f11ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f52c11f1285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5022(_start+0x2a)[0x5586ae3e55aa]

------ REGISTERS ------
1229318:M 05 Jan 2024 09:16:13.272 # 
RAX:0000000000000000 RBX:000000000012c206
RCX:00007f52c1254d3c RDX:0000000000000006
RDI:000000000012c206 RSI:000000000012c206
RBP:00007f52c11c61c0 RSP:00007fff9c927320
R8 :0000000000000007 R9 :00005586b05ce820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f52c11a605c R15:00005586ae4da2b0
RIP:00007f52c1254d3c EFL:0000000000000246
CSGSFS:002b000000000033
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c92732f) -> 00005586b05ce8d0
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c92732e) -> 00007f52c139cc60
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c92732d) -> 00000000000002b1
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c92732c) -> 00005586b05ce820
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c92732b) -> 00000000000006a6
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c92732a) -> 0000000000000020
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927329) -> 00007f52c11f0472
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927328) -> 00007f52c139de70
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927327) -> 00007f52c1205f32
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927326) -> 00007f52c11a605c
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927325) -> 00000000000006a6
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927324) -> 00007f52c11a5720
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927323) -> 00007f52c11c61c0
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927322) -> 0000000000000006
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927321) -> ed562fefdf632500
1229318:M 05 Jan 2024 09:16:13.272 # (00007fff9c927320) -> 00005586ae4da2b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1229318
process_supervised:no
run_id:0d00d1e893a8d94c124112fa550d421ea5e19490
tcp_port:5022
server_time_usec:1704442573270597
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9943757
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5022

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1816896
used_memory_human:1.73M
used_memory_rss:18071552
used_memory_rss_human:17.23M
used_memory_peak:1816896
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746728
used_memory_startup:1746544
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2056200
allocator_active:2621440
allocator_resident:12980224
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.27
allocator_frag_bytes:565240
allocator_rss_ratio:4.95
allocator_rss_bytes:10358784
rss_overhead_ratio:1.39
rss_overhead_bytes:5091328
mem_fragmentation_ratio:10.35
mem_fragmentation_bytes:16324864
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704442573
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:28
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:660cff050d4cfb9d8e9fceb8b28b80ceeeaf499e
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.007773
used_cpu_user:0.009768
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.005712
used_cpu_user_main_thread:0.011425

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_auth:calls=1,usec=3,usec_per_call=3.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1490,usec_per_call=745.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=4,usec_per_call=1.33,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=10,usec_per_call=10.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_auth:p50=3.007,p99=3.007,p99.9=3.007
latency_percentiles_usec_command:p50=729.087,p99=761.855,p99.9=761.855
latency_percentiles_usec_config|get:p50=1.003,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=10.047,p99=10.047,p99.9=10.047

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:38312 laddr=127.0.0.1:5022 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:528357dad910a2c063070df75177e527
raft_node_id:2
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis2.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
lazyfree-lazy-user-del no
lazyfree-lazy-server-del no
sanitize-dump-payload no
activedefrag no
io-threads-do-reads no
lazyfree-lazy-eviction no
io-threads 1
lazyfree-lazy-user-flush no
repl-diskless-sync yes
slave-read-only yes
client-query-buffer-limit 1gb
replica-read-only yes
list-compress-depth 0
repl-diskless-load disabled
lazyfree-lazy-expire no
proto-max-bulk-len 512mb

------ FAST MEMORY TEST ------
1229318:M 05 Jan 2024 09:16:13.272 # Bio worker thread #0 terminated
1229318:M 05 Jan 2024 09:16:13.272 # Bio worker thread #1 terminated
1229318:M 05 Jan 2024 09:16:13.272 # Bio worker thread #2 terminated
*** Preparing to test memory region 5586ae6bb000 (2273280 bytes)
*** Preparing to test memory region 5586b0579000 (405504 bytes)
*** Preparing to test memory region 7f52b3ff9000 (8388608 bytes)
*** Preparing to test memory region 7f52b47fa000 (8388608 bytes)
*** Preparing to test memory region 7f52b4ffb000 (8388608 bytes)
*** Preparing to test memory region 7f52b57fc000 (8388608 bytes)
*** Preparing to test memory region 7f52b5ffd000 (8388608 bytes)
*** Preparing to test memory region 7f52b67fe000 (8388608 bytes)
*** Preparing to test memory region 7f52b6fff000 (8388608 bytes)
*** Preparing to test memory region 7f52b7800000 (8388608 bytes)
*** Preparing to test memory region 7f52b8000000 (135168 bytes)
*** Preparing to test memory region 7f52bc7fd000 (8388608 bytes)
*** Preparing to test memory region 7f52bcffe000 (8388608 bytes)
*** Preparing to test memory region 7f52bd7ff000 (8388608 bytes)
*** Preparing to test memory region 7f52be000000 (8388608 bytes)
*** Preparing to test memory region 7f52be800000 (6291456 bytes)
*** Preparing to test memory region 7f52bef32000 (2621440 bytes)
*** Preparing to test memory region 7f52bf87f000 (12288 bytes)
*** Preparing to test memory region 7f52bf895000 (8192 bytes)
*** Preparing to test memory region 7f52bfe18000 (16384 bytes)
*** Preparing to test memory region 7f52bfeec000 (8192 bytes)
*** Preparing to test memory region 7f52c0800000 (8388608 bytes)
*** Preparing to test memory region 7f52c106a000 (4096 bytes)
*** Preparing to test memory region 7f52c113a000 (12288 bytes)
*** Preparing to test memory region 7f52c11bf000 (45056 bytes)
*** Preparing to test memory region 7f52c139e000 (53248 bytes)
*** Preparing to test memory region 7f52c14bb000 (8192 bytes)
.1229443:C 05 Jan 2024 09:16:13.369 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1229443:C 05 Jan 2024 09:16:13.369 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1229443:C 05 Jan 2024 09:16:13.369 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1229443, just started
1229443:C 05 Jan 2024 09:16:13.369 * Configuration loaded
1229443:M 05 Jan 2024 09:16:13.369 * monotonic clock: POSIX clock_gettime
1229443:M 05 Jan 2024 09:16:13.370 * Running mode=standalone, port=5022.
1229443:M 05 Jan 2024 09:16:13.376 * <raft> RedisRaft version 255.255.255 [b779b199]
1229443:M 05 Jan 2024 09:16:13.380 * <raft> Initializing test network
1229443:M 05 Jan 2024 09:16:13.381 * <raft> Created test network client
1229443:M 05 Jan 2024 09:16:13.383 * <raft> Raft module loaded, state is 'loading'
1229443:M 05 Jan 2024 09:16:13.383 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1229443:M 05 Jan 2024 09:16:13.384 * Server initialized
1229443:M 05 Jan 2024 09:16:13.384 . The AOF directory appendonlydir doesn't exist
1229443:M 05 Jan 2024 09:16:13.384 * Ready to accept connections tcp
1229443:M 05 Jan 2024 09:16:13.384 . 0 clients connected (0 replicas), 1746688 bytes in use
1229443:M 05 Jan 2024 09:16:13.386 - Accepted 127.0.0.1:38328
1229443:M 05 Jan 2024 09:16:13.386 # Missing implement of connection type tls
1229443:M 05 Jan 2024 09:16:13.441 - Client closed connection id=8 addr=127.0.0.1:38328 laddr=127.0.0.1:5022 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=
1229443:signal-handler (1704442573) Received SIGINT scheduling shutdown...
1229443:signal-handler (1704442573) You insist... exiting now.

----- Stderr -----
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 0
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 4
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 0
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 4




logs for node: 3

----- Stdout -----
1228060:C 05 Jan 2024 09:16:10.162 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1228060:C 05 Jan 2024 09:16:10.162 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1228060:C 05 Jan 2024 09:16:10.162 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1228060, just started
1228060:C 05 Jan 2024 09:16:10.162 * Configuration loaded
1228060:M 05 Jan 2024 09:16:10.163 * monotonic clock: POSIX clock_gettime
1228060:M 05 Jan 2024 09:16:10.163 * Running mode=standalone, port=5023.
1228060:M 05 Jan 2024 09:16:10.170 * <raft> RedisRaft version 255.255.255 [b779b199]
1228060:M 05 Jan 2024 09:16:10.176 * <raft> Initializing test network
1228060:M 05 Jan 2024 09:16:10.176 * <raft> Created test network client
1228060:M 05 Jan 2024 09:16:10.177 * <raft> Raft module loaded, state is 'uninitialized'
1228060:M 05 Jan 2024 09:16:10.177 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1228060:M 05 Jan 2024 09:16:10.178 * Server initialized
1228060:M 05 Jan 2024 09:16:10.178 . The AOF directory appendonlydir doesn't exist
1228060:M 05 Jan 2024 09:16:10.179 * Ready to accept connections tcp
1228060:M 05 Jan 2024 09:16:10.179 . 0 clients connected (0 replicas), 1726192 bytes in use
1228060:M 05 Jan 2024 09:16:10.184 - Accepted 127.0.0.1:45810
1228060:M 05 Jan 2024 09:16:10.184 # Missing implement of connection type tls
1228060:M 05 Jan 2024 09:16:10.277 - <raft> join cluster, connecting to localhost:5021
1228060:M 05 Jan 2024 09:16:10.279 * <raft> Joined Raft cluster, node id: 3, dbid: 528357dad910a2c063070df75177e527
1228060:M 05 Jan 2024 09:16:10.285 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1228060:M 05 Jan 2024 09:16:10.286 * <raft> Test network starting message polling thread
1228060:M 05 Jan 2024 09:16:10.324 - Accepted 127.0.0.1:45816
1228060:signal-handler (1704442570) Received SIGINT scheduling shutdown...
1228060:signal-handler (1704442570) You insist... exiting now.
1228060:M 05 Jan 2024 09:16:10.580 * User requested shutdown...
1228060:M 05 Jan 2024 09:16:10.580 # Redis is now ready to exit, bye bye...
1228518:C 05 Jan 2024 09:16:11.041 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1228518:C 05 Jan 2024 09:16:11.041 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1228518:C 05 Jan 2024 09:16:11.041 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1228518, just started
1228518:C 05 Jan 2024 09:16:11.041 * Configuration loaded
1228518:M 05 Jan 2024 09:16:11.042 * monotonic clock: POSIX clock_gettime
1228518:M 05 Jan 2024 09:16:11.042 * Running mode=standalone, port=5023.
1228518:M 05 Jan 2024 09:16:11.049 * <raft> RedisRaft version 255.255.255 [b779b199]
1228518:M 05 Jan 2024 09:16:11.054 * <raft> Initializing test network
1228518:M 05 Jan 2024 09:16:11.055 * <raft> Created test network client
1228518:M 05 Jan 2024 09:16:11.057 * <raft> Raft module loaded, state is 'loading'
1228518:M 05 Jan 2024 09:16:11.057 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1228518:M 05 Jan 2024 09:16:11.058 * Server initialized
1228518:M 05 Jan 2024 09:16:11.058 . The AOF directory appendonlydir doesn't exist
1228518:M 05 Jan 2024 09:16:11.058 * Ready to accept connections tcp
1228518:M 05 Jan 2024 09:16:11.058 . 0 clients connected (0 replicas), 1746720 bytes in use
1228518:M 05 Jan 2024 09:16:11.128 - Accepted 127.0.0.1:45868
1228518:M 05 Jan 2024 09:16:11.128 # Missing implement of connection type tls
1228518:M 05 Jan 2024 09:16:11.157 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1228518:M 05 Jan 2024 09:16:11.157 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1228518:M 05 Jan 2024 09:16:11.158 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1228518:M 05 Jan 2024 09:16:11.158 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1228518:M 05 Jan 2024 09:16:11.158 # Crashed running the instruction at: 0x7f70883c9d3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f70883c9d3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f708837afd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f70883c9d3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f708837af32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f7088365472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f7088365395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f7088373e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f70882eeaea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f70882df088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(moduleTimerHandler+0x21c)[0x559ff72ee98c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(+0x81705)[0x559ff71f8705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(aeMain+0x1c8)[0x559ff7202cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(main+0x3cd)[0x559ff71f7e2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f70883661ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f7088366285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(_start+0x2a)[0x559ff71f85aa]

------ REGISTERS ------
1228518:M 05 Jan 2024 09:16:11.159 # 
RAX:0000000000000000 RBX:000000000012bee6
RCX:00007f70883c9d3c RDX:0000000000000006
RDI:000000000012bee6 RSI:000000000012bee6
RBP:00007f708833b1c0 RSP:00007ffea506ace0
R8 :0000000000000007 R9 :0000559ff911d6b0
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f708831b05c R15:0000559ff72ed2b0
RIP:00007f70883c9d3c EFL:0000000000000246
CSGSFS:002b000000000033
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506acef) -> 0000559ff911d760
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506acee) -> 00007f7088511c60
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506aced) -> 0000000000000421
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506acec) -> 0000559ff911d6b0
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506aceb) -> 00000000000006a6
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506acea) -> 0000000000000020
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace9) -> 00007f7088365472
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace8) -> 00007f7088512e70
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace7) -> 00007f708837af32
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace6) -> 00007f708831b05c
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace5) -> 00000000000006a6
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace4) -> 00007f708831a720
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace3) -> 00007f708833b1c0
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace2) -> 0000000000000006
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace1) -> 6a58956576c6d300
1228518:M 05 Jan 2024 09:16:11.159 # (00007ffea506ace0) -> 0000559ff72ed2b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1228518
process_supervised:no
run_id:defe2c22a8a46677fee0d1fbe491ebc57cd1e4c4
tcp_port:5023
server_time_usec:1704442571157407
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9943755
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5023

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1816936
used_memory_human:1.73M
used_memory_rss:17985536
used_memory_rss_human:17.15M
used_memory_peak:1816936
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746760
used_memory_startup:1746576
used_memory_dataset:70176
used_memory_dataset_perc:99.74%
allocator_allocated:2020784
allocator_active:2564096
allocator_resident:10801152
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.27
allocator_frag_bytes:543312
allocator_rss_ratio:4.21
allocator_rss_bytes:8237056
rss_overhead_ratio:1.67
rss_overhead_bytes:7184384
mem_fragmentation_ratio:10.30
mem_fragmentation_bytes:16238816
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704442571
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:23
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:c36e68e1331def6e7cc681932fde5353771534ac
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.009853
used_cpu_user:0.009128
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.008974
used_cpu_user_main_thread:0.008974

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_config|set:calls=1,usec=11,usec_per_call=11.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=6,usec_per_call=2.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1611,usec_per_call=805.50,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=2,usec_per_call=2.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_config|set:p50=11.007,p99=11.007,p99.9=11.007
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_command:p50=737.279,p99=876.543,p99.9=876.543
latency_percentiles_usec_auth:p50=2.007,p99=2.007,p99.9=2.007

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:45868 laddr=127.0.0.1:5023 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:528357dad910a2c063070df75177e527
raft_node_id:3
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis3.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
replica-read-only yes
list-compress-depth 0
lazyfree-lazy-user-flush no
lazyfree-lazy-expire no
proto-max-bulk-len 512mb
client-query-buffer-limit 1gb
io-threads 1
slave-read-only yes
repl-diskless-sync yes
sanitize-dump-payload no
lazyfree-lazy-user-del no
lazyfree-lazy-eviction no
activedefrag no
repl-diskless-load disabled
io-threads-do-reads no
lazyfree-lazy-server-del no

------ FAST MEMORY TEST ------
1228518:M 05 Jan 2024 09:16:11.159 # Bio worker thread #0 terminated
1228518:M 05 Jan 2024 09:16:11.159 # Bio worker thread #1 terminated
1228518:M 05 Jan 2024 09:16:11.159 # Bio worker thread #2 terminated
*** Preparing to test memory region 559ff74ce000 (2273280 bytes)
*** Preparing to test memory region 559ff90c8000 (405504 bytes)
*** Preparing to test memory region 7f706c000000 (135168 bytes)
*** Preparing to test memory region 7f7074000000 (135168 bytes)
*** Preparing to test memory region 7f707aa00000 (4194304 bytes)
*** Preparing to test memory region 7f707affe000 (8388608 bytes)
*** Preparing to test memory region 7f707b7ff000 (8388608 bytes)
*** Preparing to test memory region 7f707c000000 (8388608 bytes)
*** Preparing to test memory region 7f707c800000 (6291456 bytes)
*** Preparing to test memory region 7f707cffb000 (8388608 bytes)
*** Preparing to test memory region 7f707d7fc000 (8388608 bytes)
*** Preparing to test memory region 7f707dffd000 (8388608 bytes)
*** Preparing to test memory region 7f707e7fe000 (8388608 bytes)
*** Preparing to test memory region 7f707efff000 (8388608 bytes)
*** Preparing to test memory region 7f707f800000 (8388608 bytes)
*** Preparing to test memory region 7f7080000000 (135168 bytes)
*** Preparing to test memory region 7f70840a3000 (8388608 bytes)
*** Preparing to test memory region 7f70848a4000 (8388608 bytes)
*** Preparing to test memory region 7f70850a5000 (8388608 bytes)
*** Preparing to test memory region 7f70858a6000 (8388608 bytes)
*** Preparing to test memory region 7f70860a6000 (2621440 bytes)
*** Preparing to test memory region 7f708687f000 (12288 bytes)
*** Preparing to test memory region 7f7086898000 (8192 bytes)
*** Preparing to test memory region 7f7086dfe000 (8192 bytes)
*** Preparing to test memory region 7f7087018000 (16384 bytes)
*** Preparing to test memory region 7f7087a00000 (8388608 bytes)
*** Preparing to test memory region 7f708828a000 (4096 bytes)
*** Preparing to test memory region 7f70882af000 (12288 bytes)
*** Preparing to test memory region 7f7088334000 (45056 bytes)
*** Preparing to test memory region 7f7088513000 (53248 bytes)
*** Preparing to test memory region 7f7088630000 (8192 bytes)
.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O
Fast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.

------ DUMPING CODE AROUND EIP ------
Symbol: (null) (base: (nil))
Module: /lib/x86_64-linux-gnu/libc.so.6 (base 0x7f708833f000)
$ xxd -r -p /tmp/dump.hex /tmp/dump.bin
$ objdump --adjust-vma=(nil) -D -b binary -m i386:x86-64 /tmp/dump.bin
------

=== REDIS BUG REPORT END. Make sure to include from START to END. ===

       Please report the crash by opening an issue on github:

           http://github.com/redis/redis/issues

  If a Redis module was involved, please open in the module's repo instead.

  Suspect RAM error? Use redis-server --test-memory to verify it.

  Some other issues could be detected by redis-server --check-system
1229354:C 05 Jan 2024 09:16:13.187 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1229354:C 05 Jan 2024 09:16:13.187 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1229354:C 05 Jan 2024 09:16:13.187 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1229354, just started
1229354:C 05 Jan 2024 09:16:13.187 * Configuration loaded
1229354:M 05 Jan 2024 09:16:13.187 * monotonic clock: POSIX clock_gettime
1229354:M 05 Jan 2024 09:16:13.188 * Running mode=standalone, port=5023.
1229354:M 05 Jan 2024 09:16:13.194 * <raft> RedisRaft version 255.255.255 [b779b199]
1229354:M 05 Jan 2024 09:16:13.199 * <raft> Initializing test network
1229354:M 05 Jan 2024 09:16:13.200 * <raft> Created test network client
1229354:M 05 Jan 2024 09:16:13.203 * <raft> Raft module loaded, state is 'loading'
1229354:M 05 Jan 2024 09:16:13.203 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1229354:M 05 Jan 2024 09:16:13.204 * Server initialized
1229354:M 05 Jan 2024 09:16:13.204 . The AOF directory appendonlydir doesn't exist
1229354:M 05 Jan 2024 09:16:13.204 * Ready to accept connections tcp
1229354:M 05 Jan 2024 09:16:13.204 . 0 clients connected (0 replicas), 1746816 bytes in use
1229354:M 05 Jan 2024 09:16:13.286 - Accepted 127.0.0.1:45912
1229354:M 05 Jan 2024 09:16:13.286 # Missing implement of connection type tls
1229354:M 05 Jan 2024 09:16:13.304 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1229354:M 05 Jan 2024 09:16:13.304 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1229354:M 05 Jan 2024 09:16:13.304 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1229354:M 05 Jan 2024 09:16:13.305 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1229354:M 05 Jan 2024 09:16:13.305 # Crashed running the instruction at: 0x7f0f52bbed3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f0f52bbed3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f0f52b6ffd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f0f52bbed3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f0f52b6ff32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f0f52b5a472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f0f52b5a395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f0f52b68e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f0f52ae3aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f0f52ad4088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(moduleTimerHandler+0x21c)[0x5602d33e898c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(+0x81705)[0x5602d32f2705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(aeMain+0x1c8)[0x5602d32fccb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(main+0x3cd)[0x5602d32f1e2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f0f52b5b1ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f0f52b5b285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5023(_start+0x2a)[0x5602d32f25aa]

------ REGISTERS ------
1229354:M 05 Jan 2024 09:16:13.305 # 
RAX:0000000000000000 RBX:000000000012c22a
RCX:00007f0f52bbed3c RDX:0000000000000006
RDI:000000000012c22a RSI:000000000012c22a
RBP:00007f0f52b301c0 RSP:00007ffd3a5fded0
R8 :0000000000000007 R9 :00005602d4e7b820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f0f52b1005c R15:00005602d33e72b0
RIP:00007f0f52bbed3c EFL:0000000000000246
CSGSFS:002b000000000033
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fdedf) -> 00005602d4e7b8d0
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fdede) -> 00007f0f52d06c60
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fdedd) -> 00000000000002b1
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fdedc) -> 00005602d4e7b820
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fdedb) -> 00000000000006a6
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fdeda) -> 0000000000000020
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded9) -> 00007f0f52b5a472
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded8) -> 00007f0f52d07e70
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded7) -> 00007f0f52b6ff32
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded6) -> 00007f0f52b1005c
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded5) -> 00000000000006a6
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded4) -> 00007f0f52b0f720
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded3) -> 00007f0f52b301c0
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded2) -> 0000000000000006
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded1) -> be98a0e6c55f2500
1229354:M 05 Jan 2024 09:16:13.305 # (00007ffd3a5fded0) -> 00005602d33e72b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1229354
process_supervised:no
run_id:2b88865c1ee2278d58dedc9e70512b80c8452b42
tcp_port:5023
server_time_usec:1704442573304189
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9943757
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5023

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1817024
used_memory_human:1.73M
used_memory_rss:17842176
used_memory_rss_human:17.02M
used_memory_peak:1817024
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746856
used_memory_startup:1746672
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2218904
allocator_active:2756608
allocator_resident:10948608
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.24
allocator_frag_bytes:537704
allocator_rss_ratio:3.97
allocator_rss_bytes:8192000
rss_overhead_ratio:1.63
rss_overhead_bytes:6893568
mem_fragmentation_ratio:10.21
mem_fragmentation_bytes:16095360
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704442573
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:22
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:7f682c7db80c5bf6ef107846d57ad5dc7ed26e76
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.008161
used_cpu_user:0.009958
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.007100
used_cpu_user_main_thread:0.010651

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=10,usec_per_call=10.00,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=1,usec_per_call=1.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1662,usec_per_call=831.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_config|get:p50=1.003,p99=3.007,p99.9=3.007
latency_percentiles_usec_config|set:p50=10.047,p99=10.047,p99.9=10.047
latency_percentiles_usec_auth:p50=1.003,p99=1.003,p99.9=1.003
latency_percentiles_usec_command:p50=806.911,p99=860.159,p99.9=860.159

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:45912 laddr=127.0.0.1:5023 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:528357dad910a2c063070df75177e527
raft_node_id:3
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis3.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
activedefrag no
lazyfree-lazy-expire no
lazyfree-lazy-user-flush no
io-threads-do-reads no
lazyfree-lazy-server-del no
replica-read-only yes
slave-read-only yes
list-compress-depth 0
sanitize-dump-payload no
lazyfree-lazy-eviction no
repl-diskless-sync yes
lazyfree-lazy-user-del no
repl-diskless-load disabled
client-query-buffer-limit 1gb
proto-max-bulk-len 512mb
io-threads 1

------ FAST MEMORY TEST ------
1229354:M 05 Jan 2024 09:16:13.306 # Bio worker thread #0 terminated
1229354:M 05 Jan 2024 09:16:13.306 # Bio worker thread #1 terminated
1229354:M 05 Jan 2024 09:16:13.306 # Bio worker thread #2 terminated
*** Preparing to test memory region 5602d35c8000 (2273280 bytes)
*** Preparing to test memory region 5602d4e26000 (405504 bytes)
*** Preparing to test memory region 7f0f45fff000 (8388608 bytes)
*** Preparing to test memory region 7f0f46800000 (8388608 bytes)
*** Preparing to test memory region 7f0f47000000 (6291456 bytes)
*** Preparing to test memory region 7f0f477f8000 (8388608 bytes)
*** Preparing to test memory region 7f0f47ff9000 (8388608 bytes)
*** Preparing to test memory region 7f0f487fa000 (8388608 bytes)
*** Preparing to test memory region 7f0f48ffb000 (8388608 bytes)
*** Preparing to test memory region 7f0f497fc000 (8388608 bytes)
*** Preparing to test memory region 7f0f49ffd000 (8388608 bytes)
*** Preparing to test memory region 7f0f4a7fe000 (8388608 bytes)
*** Preparing to test memory region 7f0f4afff000 (8388608 bytes)
*** Preparing to test memory region 7f0f4b800000 (8388608 bytes)
*** Preparing to test memory region 7f0f4c000000 (135168 bytes)
*** Preparing to test memory region 7f0f50095000 (8388608 bytes)
*** Preparing to test memory region 7f0f50895000 (2621440 bytes)
*** Preparing to test memory region 7f0f50b24000 (8192 bytes)
*** Preparing to test memory region 7f0f5107f000 (12288 bytes)
*** Preparing to test memory region 7f0f515fe000 (8192 bytes)
*** Preparing to test memory region 7f0f51818000 (16384 bytes)
*** Preparing to test memory region 7f0f52200000 (8388608 bytes)
*** Preparing to test memory region 7f0f52a7f000 (4096 bytes)
*** Preparing to test memory region 7f0f52aa4000 (12288 bytes)
*** Preparing to test memory region 7f0f52b29000 (45056 bytes)
*** Preparing to test memory region 7f0f52d08000 (53248 bytes)
*** Preparing to test memory region 7f0f52e25000 (8192 bytes)
.O.O.O.O.O.O.O.O.1229354:signal-handler (1704442573) Received SIGINT scheduling shutdown...
1229354:signal-handler (1704442573) You insist... exiting now.

----- Stderr -----
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 0
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 4



