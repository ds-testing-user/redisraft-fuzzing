logs for node: 1

----- Stdout -----
1492904:C 03 Jan 2024 16:20:59.017 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1492904:C 03 Jan 2024 16:20:59.017 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1492904:C 03 Jan 2024 16:20:59.017 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1492904, just started
1492904:C 03 Jan 2024 16:20:59.017 * Configuration loaded
1492904:M 03 Jan 2024 16:20:59.018 * monotonic clock: POSIX clock_gettime
1492904:M 03 Jan 2024 16:20:59.018 * Running mode=standalone, port=5051.
1492904:M 03 Jan 2024 16:20:59.025 * <raft> RedisRaft version 255.255.255 [b779b199]
1492904:M 03 Jan 2024 16:20:59.030 * <raft> Initializing test network
1492904:M 03 Jan 2024 16:20:59.031 * <raft> Created test network client
1492904:M 03 Jan 2024 16:20:59.032 * <raft> Raft module loaded, state is 'uninitialized'
1492904:M 03 Jan 2024 16:20:59.032 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1492904:M 03 Jan 2024 16:20:59.033 * Server initialized
1492904:M 03 Jan 2024 16:20:59.033 . The AOF directory appendonlydir doesn't exist
1492904:M 03 Jan 2024 16:20:59.033 * Ready to accept connections tcp
1492904:M 03 Jan 2024 16:20:59.033 . 0 clients connected (0 replicas), 1726160 bytes in use
1492904:M 03 Jan 2024 16:20:59.038 - Accepted 127.0.0.1:42202
1492904:M 03 Jan 2024 16:20:59.038 # Missing implement of connection type tls
1492904:M 03 Jan 2024 16:20:59.044 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
1492904:M 03 Jan 2024 16:20:59.049 * <raft> State change: Node is now a leader, term 1
1492904:M 03 Jan 2024 16:20:59.049 * <raft> Cluster Membership: term:1 index:1 nodes: id=1,voting=0,active=1,addr=-
1492904:M 03 Jan 2024 16:20:59.050 * <raft> Test network starting message polling thread
1492904:M 03 Jan 2024 16:20:59.050 * <raft> Raft Cluster initialized, node id: 1, dbid: 5660dc48b881075a993370f750177193
1492904:M 03 Jan 2024 16:20:59.167 - Accepted 127.0.0.1:42214
1492904:M 03 Jan 2024 16:20:59.167 * <raft> Cluster Membership: term:1 index:3 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052
1492904:M 03 Jan 2024 16:20:59.174 - Client closed connection id=9 addr=127.0.0.1:42214 laddr=127.0.0.1:5051 fd=12 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=raft.node user=default redir=-1 resp=2 lib-name= lib-ver=
1492904:M 03 Jan 2024 16:20:59.291 - Accepted 127.0.0.1:42216
1492904:M 03 Jan 2024 16:20:59.292 * <raft> Cluster Membership: term:1 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052 id=3,voting=0,active=1,addr=localhost:5053
1492904:M 03 Jan 2024 16:20:59.299 - Client closed connection id=10 addr=127.0.0.1:42216 laddr=127.0.0.1:5051 fd=13 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=raft.node user=default redir=-1 resp=2 lib-name= lib-ver=
1492904:signal-handler (1704295259) Received SIGINT scheduling shutdown...
1492904:signal-handler (1704295259) You insist... exiting now.
1493324:C 03 Jan 2024 16:20:59.704 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1493324:C 03 Jan 2024 16:20:59.704 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1493324:C 03 Jan 2024 16:20:59.704 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1493324, just started
1493324:C 03 Jan 2024 16:20:59.704 * Configuration loaded
1493324:M 03 Jan 2024 16:20:59.704 * monotonic clock: POSIX clock_gettime
1493324:M 03 Jan 2024 16:20:59.705 * Running mode=standalone, port=5051.
1493324:M 03 Jan 2024 16:20:59.712 * <raft> RedisRaft version 255.255.255 [b779b199]
1493324:M 03 Jan 2024 16:20:59.717 * <raft> Initializing test network
1493324:M 03 Jan 2024 16:20:59.717 * <raft> Created test network client
1493324:M 03 Jan 2024 16:20:59.720 * <raft> Raft module loaded, state is 'loading'
1493324:M 03 Jan 2024 16:20:59.720 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1493324:M 03 Jan 2024 16:20:59.721 * Server initialized
1493324:M 03 Jan 2024 16:20:59.721 . The AOF directory appendonlydir doesn't exist
1493324:M 03 Jan 2024 16:20:59.721 * Ready to accept connections tcp
1493324:M 03 Jan 2024 16:20:59.721 . 0 clients connected (0 replicas), 1746720 bytes in use
1493324:M 03 Jan 2024 16:20:59.821 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1493324:M 03 Jan 2024 16:20:59.821 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
1493324:M 03 Jan 2024 16:20:59.822 * <raft> Test network starting message polling thread
1493324:M 03 Jan 2024 16:20:59.822 * <raft> Cluster Membership: term:0 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052
1493324:M 03 Jan 2024 16:20:59.822 * <raft> Cluster Membership: term:0 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052 id=3,voting=0,active=1,addr=localhost:5053
1493324:M 03 Jan 2024 16:20:59.822 * <raft> Raft state after loading log: log_count=4, first_idx=1, current_idx=4, last_applied_idx=0
1493324:M 03 Jan 2024 16:20:59.822 . <raft> Raft term=1, vote=-1
1493324:M 03 Jan 2024 16:20:59.828 * <raft> State change: Node is now a leader, term 2
1493324:M 03 Jan 2024 16:20:59.829 * <raft> Cluster Membership: term:2 index:5 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052 id=3,voting=0,active=1,addr=localhost:5053
1493324:M 03 Jan 2024 16:21:00.309 - Accepted 127.0.0.1:42220
1493324:M 03 Jan 2024 16:21:00.309 # Missing implement of connection type tls
1493324:signal-handler (1704295260) Received SIGINT scheduling shutdown...
1493324:signal-handler (1704295260) You insist... exiting now.


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1493324:M 03 Jan 2024 16:21:00.925 # Redis 255.255.255 crashed by signal: 11, si_code: 1
1493324:M 03 Jan 2024 16:21:00.925 # Accessing address: 0x18
1493324:M 03 Jan 2024 16:21:00.925 # Crashed running the instruction at: 0x7f6dc013e0b0

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(__pthread_rwlock_wrlock+0x0)[0x7f6dc013e0b0]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f6dc00eafd0]
/lib/x86_64-linux-gnu/libc.so.6(__pthread_rwlock_wrlock+0x0)[0x7f6dc013e0b0]
/lib/x86_64-linux-gnu/libcrypto.so.3(CRYPTO_THREAD_write_lock+0x9)[0x7f6dbe43df49]
/lib/x86_64-linux-gnu/libcrypto.so.3(ENGINE_get_first+0x3a)[0x7f6dbe3e408a]
/lib/x86_64-linux-gnu/libcrypto.so.3(ENGINE_register_all_complete+0x6)[0x7f6dbe3e3486]
/lib/x86_64-linux-gnu/libssh2.so.1(libssh2_init+0x39)[0x7f6dbee9c389]
/lib/x86_64-linux-gnu/libcurl-gnutls.so.4(+0x8146b)[0x7f6dbefaf46b]
/lib/x86_64-linux-gnu/libcurl-gnutls.so.4(+0x22125)[0x7f6dbef50125]
/lib/x86_64-linux-gnu/libcurl-gnutls.so.4(curl_global_init+0x3a)[0x7f6dbef5022a]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(redis_test_http_do+0x2c)[0x7f6dc006e86c]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(redis_test_http_post+0x26)[0x7f6dc006ea86]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(redis_test_send_message+0x9d)[0x7f6dc006defd]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(testNetworkSendAppendEntries+0x6a)[0x7f6dc005719a]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(raft_send_appendentries+0x1ea)[0x7f6dc005fbaa]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(raft_send_appendentries_all+0x4d)[0x7f6dc005fe8d]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(raft_periodic_internal+0x240)[0x7f6dc00627e0]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(raft_periodic+0x18)[0x7f6dc0062868]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x2b765)[0x7f6dc004d765]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5051(moduleTimerHandler+0x21c)[0x5598d2f9798c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5051(+0x81705)[0x5598d2ea1705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5051(aeMain+0x1c8)[0x5598d2eabcb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5051(main+0x3cd)[0x5598d2ea0e2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f6dc00d61ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f6dc00d6285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5051(_start+0x2a)[0x5598d2ea15aa]

------ REGISTERS ------
1493324:M 03 Jan 2024 16:21:00.926 # 
RAX:0000000000000001 RBX:00005598d400c4a0
RCX:0000000000000000 RDX:0000000000000000
RDI:0000000000000000 RSI:0000000000000000
RBP:00007f6dbe67e638 RSP:00007ffdd9f360d8
R8 :0000000000000000 R9 :0000000000000000
R10:0000000000000000 R11:0000000000000000
R12:00007ffdd9f361d0 R13:00005598d3fe03b0
R14:0000000000000006 R15:0000000000000002
RIP:00007f6dc013e0b0 EFL:0000000000010202
CSGSFS:002b000000000033
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e7) -> 00005598d400c4a0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e6) -> 00007f6dbef50125
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e5) -> 0000000000000002
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e4) -> 00007f6dbefaf46b
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e3) -> 00005598d3fe03b0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e2) -> 00000000d9f361d0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e1) -> 00005598d4018ec0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360e0) -> 00007f6dbee9c389
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360df) -> 00005598d400c4a0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360de) -> 00007f6dbe3e3486
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360dd) -> 00005598d4018ec0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360dc) -> 00005598d400c4a0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360db) -> 00007ffdd9f361d0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360da) -> 00007f6dbe3e408a
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360d9) -> 00005598d400c4a0
1493324:M 03 Jan 2024 16:21:00.926 # (00007ffdd9f360d8) -> 00007f6dbe43df49

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1493324
process_supervised:no
run_id:1e3c70479f278954320dfec34c6bfd4b6849d10d
tcp_port:5051
server_time_usec:1704295260925715
uptime_in_seconds:1
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9796444
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5051

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:20480
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1895640
used_memory_human:1.81M
used_memory_rss:18378752
used_memory_rss_human:17.53M
used_memory_peak:1909016
used_memory_peak_human:1.82M
used_memory_peak_perc:99.30%
used_memory_overhead:1769232
used_memory_startup:1746576
used_memory_dataset:126408
used_memory_dataset_perc:84.80%
allocator_allocated:2513328
allocator_active:3223552
allocator_resident:11472896
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.28
allocator_frag_bytes:710224
allocator_rss_ratio:3.56
allocator_rss_bytes:8249344
rss_overhead_ratio:1.60
rss_overhead_bytes:6905856
mem_fragmentation_ratio:9.71
mem_fragmentation_bytes:16485104
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:22400
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:1
rdb_bgsave_in_progress:0
rdb_last_save_time:1704295259
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:11
instantaneous_ops_per_sec:26
total_net_input_bytes:171
total_net_output_bytes:287
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.10
instantaneous_output_kbps:0.17
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:4
total_writes_processed:4
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:1
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:33123855ec40352dd39a64c5f666bdd7fccf953e
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.053685
used_cpu_user:0.042948
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.004000
used_cpu_user_main_thread:0.024002

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_client|setinfo:calls=2,usec=1,usec_per_call=0.50,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=10,usec_per_call=10.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=3,usec_per_call=1.00,rejected_calls=0,failed_calls=0
cmdstat_raft:calls=1,usec=305,usec_per_call=305.00,rejected_calls=0,failed_calls=0
cmdstat_incr:calls=1,usec=5,usec_per_call=5.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1671,usec_per_call=835.50,rejected_calls=0,failed_calls=0
cmdstat_hello:calls=1,usec=5,usec_per_call=5.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_client|setinfo:p50=0.001,p99=1.003,p99.9=1.003
latency_percentiles_usec_config|set:p50=10.047,p99=10.047,p99.9=10.047
latency_percentiles_usec_config|get:p50=1.003,p99=1.003,p99.9=1.003
latency_percentiles_usec_raft:p50=305.151,p99=305.151,p99.9=305.151
latency_percentiles_usec_incr:p50=5.023,p99=5.023,p99.9=5.023
latency_percentiles_usec_command:p50=782.335,p99=892.927,p99.9=892.927
latency_percentiles_usec_hello:p50=5.023,p99=5.023,p99.9=5.023

# Cluster
cluster_enabled:0

# Keyspace
db0:keys=1,expires=0,avg_ttl=0

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:42220 laddr=127.0.0.1:5051 fd=12 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=0 omem=0 tot-mem=22400 events=r cmd=raft user=default redir=-1 resp=3 lib-name=go-redis(,go1.21.4) lib-ver=9.2.1

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:5660dc48b881075a993370f750177193
raft_node_id:1
raft_state:up
raft_role:leader
raft_is_voting:yes
raft_voted_for:-1
raft_leader_id:1
raft_current_term:2
raft_num_nodes:3
raft_num_voting_nodes:1
raft_node1:id=2,state=connected,voting=no,addr=localhost,port=5052,last_conn_secs=0,conn_errors=10,conn_oks=1
raft_node2:id=3,state=connected,voting=no,addr=localhost,port=5053,last_conn_secs=1,conn_errors=0,conn_oks=1

# raft_log
raft_log_entries:6
raft_current_index:6
raft_commit_index:6
raft_last_applied_index:6
raft_file_size:1367
raft_cache_memory_size:147
raft_cache_entries:2
raft_client_attached_entries:0
raft_fsync_count:1
raft_fsync_max_microseconds:6
raft_entry1:term=1,id=0,data_len=0
raft_entry2:term=1,id=1069400358,data_len=264
raft_entry3:term=1,id=1017363547,data_len=264
raft_entry4:term=1,id=1131006924,data_len=264
raft_entry5:term=2,id=0,data_len=0
raft_fsync_avg_microseconds:6

# raft_snapshot
raft_snapshot_filename:redis1.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
repl-diskless-load disabled
sanitize-dump-payload no
proto-max-bulk-len 512mb
lazyfree-lazy-user-flush no
lazyfree-lazy-eviction no
io-threads-do-reads no
replica-read-only yes
client-query-buffer-limit 1gb
slave-read-only yes
lazyfree-lazy-user-del no
repl-diskless-sync yes
lazyfree-lazy-server-del no
activedefrag no
list-compress-depth 0
io-threads 1
lazyfree-lazy-expire no

------ FAST MEMORY TEST ------
1493324:M 03 Jan 2024 16:21:00.927 # Bio worker thread #0 terminated
1493324:M 03 Jan 2024 16:21:00.927 # Bio worker thread #1 terminated
1493324:M 03 Jan 2024 16:21:00.927 # Bio worker thread #2 terminated
*** Preparing to test memory region 5598d3177000 (2273280 bytes)
*** Preparing to test memory region 5598d3fb4000 (528384 bytes)
*** Preparing to test memory region 7f6d8c000000 (135168 bytes)
*** Preparing to test memory region 7f6d90000000 (135168 bytes)
*** Preparing to test memory region 7f6d94000000 (135168 bytes)
*** Preparing to test memory region 7f6d98000000 (135168 bytes)
*** Preparing to test memory region 7f6d9c000000 (135168 bytes)
*** Preparing to test memory region 7f6da0000000 (135168 bytes)
*** Preparing to test memory region 7f6da4000000 (135168 bytes)
*** Preparing to test memory region 7f6daa600000 (8388608 bytes)
*** Preparing to test memory region 7f6daafff000 (8388608 bytes)
*** Preparing to test memory region 7f6dac000000 (135168 bytes)
*** Preparing to test memory region 7f6db0000000 (4194304 bytes)
*** Preparing to test memory region 7f6db0e00000 (8388608 bytes)
*** Preparing to test memory region 7f6db1600000 (4194304 bytes)
*** Preparing to test memory region 7f6db1bfd000 (8388608 bytes)
*** Preparing to test memory region 7f6db23fd000 (2097152 bytes)
*** Preparing to test memory region 7f6db25fe000 (8388608 bytes)
*** Preparing to test memory region 7f6db2dfe000 (2097152 bytes)
*** Preparing to test memory region 7f6db2fff000 (8388608 bytes)
*** Preparing to test memory region 7f6db3800000 (8388608 bytes)
*** Preparing to test memory region 7f6db4000000 (6291456 bytes)
*** Preparing to test memory region 7f6db47fa000 (8388608 bytes)
*** Preparing to test memory region 7f6db4ffb000 (8388608 bytes)
*** Preparing to test memory region 7f6db57fc000 (8388608 bytes)
*** Preparing to test memory region 7f6db5ffd000 (8388608 bytes)
*** Preparing to test memory region 7f6db67fe000 (8388608 bytes)
*** Preparing to test memory region 7f6db6fff000 (8388608 bytes)
*** Preparing to test memory region 7f6db7800000 (8388608 bytes)
*** Preparing to test memory region 7f6db8000000 (135168 bytes)
*** Preparing to test memory region 7f6dbc000000 (4194304 bytes)
*** Preparing to test memory region 7f6dbc613000 (8388608 bytes)
*** Preparing to test memory region 7f6dbce14000 (8388608 bytes)
*** Preparing to test memory region 7f6dbd615000 (8388608 bytes)
*** Preparing to test memory region 7f6dbde15000 (2621440 bytes)
*** Preparing to test memory region 7f6dbe0a4000 (8192 bytes)
*** Preparing to test memory region 7f6dbe67f000 (12288 bytes)
*** Preparing to test memory region 7f6dbebac000 (8192 bytes)
*** Preparing to test memory region 7f6dbee18000 (16384 bytes)
*** Preparing to test memory region 7f6dbf800000 (8388608 bytes)
*** Preparing to test memory region 7f6dc0004000 (8192 bytes)
*** Preparing to test memory region 7f6dc0021000 (4096 bytes)
*** Preparing to test memory region 7f6dc00a4000 (45056 bytes)
*** Preparing to test memory region 7f6dc0283000 (53248 bytes)
*** Preparing to test memory region 7f6dc03a0000 (8192 bytes)
.1493809:C 03 Jan 2024 16:21:01.332 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1493809:C 03 Jan 2024 16:21:01.332 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1493809:C 03 Jan 2024 16:21:01.332 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1493809, just started
1493809:C 03 Jan 2024 16:21:01.332 * Configuration loaded
1493809:M 03 Jan 2024 16:21:01.333 * monotonic clock: POSIX clock_gettime
1493809:M 03 Jan 2024 16:21:01.333 * Running mode=standalone, port=5051.
1493809:M 03 Jan 2024 16:21:01.340 * <raft> RedisRaft version 255.255.255 [b779b199]
1493809:M 03 Jan 2024 16:21:01.345 * <raft> Initializing test network
1493809:M 03 Jan 2024 16:21:01.346 * <raft> Created test network client
1493809:M 03 Jan 2024 16:21:01.350 * <raft> Raft module loaded, state is 'loading'
1493809:M 03 Jan 2024 16:21:01.350 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1493809:M 03 Jan 2024 16:21:01.351 * Server initialized
1493809:M 03 Jan 2024 16:21:01.351 . The AOF directory appendonlydir doesn't exist
1493809:M 03 Jan 2024 16:21:01.351 * Ready to accept connections tcp
1493809:M 03 Jan 2024 16:21:01.351 . 0 clients connected (0 replicas), 1746720 bytes in use
1493809:M 03 Jan 2024 16:21:01.451 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1493809:M 03 Jan 2024 16:21:01.451 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
1493809:M 03 Jan 2024 16:21:01.452 * <raft> Test network starting message polling thread
1493809:M 03 Jan 2024 16:21:01.452 * <raft> Cluster Membership: term:0 index:6 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052
1493809:M 03 Jan 2024 16:21:01.452 * <raft> Cluster Membership: term:0 index:6 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052 id=3,voting=0,active=1,addr=localhost:5053
1493809:M 03 Jan 2024 16:21:01.452 * <raft> Raft state after loading log: log_count=6, first_idx=1, current_idx=6, last_applied_idx=0
1493809:M 03 Jan 2024 16:21:01.452 . <raft> Raft term=2, vote=-1
1493809:M 03 Jan 2024 16:21:01.459 * <raft> State change: Node is now a leader, term 3
1493809:M 03 Jan 2024 16:21:01.459 * <raft> Cluster Membership: term:3 index:7 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5052 id=3,voting=0,active=1,addr=localhost:5053
1493809:M 03 Jan 2024 16:21:01.574 - Accepted 127.0.0.1:42224
1493809:M 03 Jan 2024 16:21:01.574 # Missing implement of connection type tls
1493809:signal-handler (1704295262) Received SIGINT scheduling shutdown...
1493809:signal-handler (1704295262) You insist... exiting now.

----- Stderr -----




logs for node: 2

----- Stdout -----
1492938:C 03 Jan 2024 16:20:59.052 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1492938:C 03 Jan 2024 16:20:59.052 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1492938:C 03 Jan 2024 16:20:59.052 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1492938, just started
1492938:C 03 Jan 2024 16:20:59.052 * Configuration loaded
1492938:M 03 Jan 2024 16:20:59.053 * monotonic clock: POSIX clock_gettime
1492938:M 03 Jan 2024 16:20:59.053 * Running mode=standalone, port=5052.
1492938:M 03 Jan 2024 16:20:59.060 * <raft> RedisRaft version 255.255.255 [b779b199]
1492938:M 03 Jan 2024 16:20:59.064 * <raft> Initializing test network
1492938:M 03 Jan 2024 16:20:59.065 * <raft> Created test network client
1492938:M 03 Jan 2024 16:20:59.066 * <raft> Raft module loaded, state is 'uninitialized'
1492938:M 03 Jan 2024 16:20:59.066 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1492938:M 03 Jan 2024 16:20:59.067 * Server initialized
1492938:M 03 Jan 2024 16:20:59.067 . The AOF directory appendonlydir doesn't exist
1492938:M 03 Jan 2024 16:20:59.067 * Ready to accept connections tcp
1492938:M 03 Jan 2024 16:20:59.068 . 0 clients connected (0 replicas), 1726192 bytes in use
1492938:M 03 Jan 2024 16:20:59.068 - Accepted 127.0.0.1:39098
1492938:M 03 Jan 2024 16:20:59.068 # Missing implement of connection type tls
1492938:M 03 Jan 2024 16:20:59.166 - <raft> join cluster, connecting to localhost:5051
1492938:M 03 Jan 2024 16:20:59.168 * <raft> Joined Raft cluster, node id: 2, dbid: 5660dc48b881075a993370f750177193
1492938:M 03 Jan 2024 16:20:59.174 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1492938:M 03 Jan 2024 16:20:59.174 * <raft> Test network starting message polling thread
1492938:M 03 Jan 2024 16:20:59.233 - Accepted 127.0.0.1:39102
1492938:M 03 Jan 2024 16:20:59.317 - Client closed connection id=9 addr=127.0.0.1:39102 laddr=127.0.0.1:5052 fd=10 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=0 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=
1492938:signal-handler (1704295259) Received SIGINT scheduling shutdown...
1492938:signal-handler (1704295259) You insist... exiting now.
1493610:C 03 Jan 2024 16:21:00.766 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1493610:C 03 Jan 2024 16:21:00.766 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1493610:C 03 Jan 2024 16:21:00.766 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1493610, just started
1493610:C 03 Jan 2024 16:21:00.766 * Configuration loaded
1493610:M 03 Jan 2024 16:21:00.767 * monotonic clock: POSIX clock_gettime
1493610:M 03 Jan 2024 16:21:00.767 * Running mode=standalone, port=5052.
1493610:M 03 Jan 2024 16:21:00.773 * <raft> RedisRaft version 255.255.255 [b779b199]
1493610:M 03 Jan 2024 16:21:00.777 * <raft> Initializing test network
1493610:M 03 Jan 2024 16:21:00.778 * <raft> Created test network client
1493610:M 03 Jan 2024 16:21:00.781 * <raft> Raft module loaded, state is 'loading'
1493610:M 03 Jan 2024 16:21:00.781 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1493610:M 03 Jan 2024 16:21:00.782 * Server initialized
1493610:M 03 Jan 2024 16:21:00.782 . The AOF directory appendonlydir doesn't exist
1493610:M 03 Jan 2024 16:21:00.782 * Ready to accept connections tcp
1493610:M 03 Jan 2024 16:21:00.782 . 0 clients connected (0 replicas), 1746656 bytes in use
1493610:M 03 Jan 2024 16:21:00.830 - Accepted 127.0.0.1:39180
1493610:M 03 Jan 2024 16:21:00.830 # Missing implement of connection type tls
1493610:M 03 Jan 2024 16:21:00.882 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1493610:M 03 Jan 2024 16:21:00.882 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1493610:M 03 Jan 2024 16:21:00.882 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1493610:M 03 Jan 2024 16:21:00.882 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1493610:M 03 Jan 2024 16:21:00.882 # Crashed running the instruction at: 0x7f2714792d3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f2714792d3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f2714743fd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f2714792d3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f2714743f32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f271472e472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f271472e395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f271473ce32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f27146b7aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f27146a8088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(moduleTimerHandler+0x21c)[0x55be575c398c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(+0x81705)[0x55be574cd705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(aeMain+0x1c8)[0x55be574d7cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(main+0x3cd)[0x55be574cce2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f271472f1ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f271472f285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(_start+0x2a)[0x55be574cd5aa]

------ REGISTERS ------
1493610:M 03 Jan 2024 16:21:00.883 # 
RAX:0000000000000000 RBX:000000000016ca6a
RCX:00007f2714792d3c RDX:0000000000000006
RDI:000000000016ca6a RSI:000000000016ca6a
RBP:00007f27147041c0 RSP:00007ffd0c3a3f00
R8 :0000000000000007 R9 :000055be5948c820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f27146e405c R15:000055be575c22b0
RIP:00007f2714792d3c EFL:0000000000000246
CSGSFS:002b000000000033
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f0f) -> 000055be5948c8d0
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f0e) -> 00007f27148dac60
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f0d) -> 00000000000002b1
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f0c) -> 000055be5948c820
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f0b) -> 00000000000006a6
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f0a) -> 0000000000000020
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f09) -> 00007f271472e472
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f08) -> 00007f27148dbe70
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f07) -> 00007f2714743f32
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f06) -> 00007f27146e405c
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f05) -> 00000000000006a6
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f04) -> 00007f27146e3720
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f03) -> 00007f27147041c0
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f02) -> 0000000000000006
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f01) -> 87757f5499e77900
1493610:M 03 Jan 2024 16:21:00.883 # (00007ffd0c3a3f00) -> 000055be575c22b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1493610
process_supervised:no
run_id:1c7735d31cdb8fd576843b390f9612bdc0228042
tcp_port:5052
server_time_usec:1704295260881978
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9796444
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5052

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1816864
used_memory_human:1.73M
used_memory_rss:17620992
used_memory_rss_human:16.80M
used_memory_peak:1816864
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746696
used_memory_startup:1746512
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2052864
allocator_active:2600960
allocator_resident:10887168
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.27
allocator_frag_bytes:548096
allocator_rss_ratio:4.19
allocator_rss_bytes:8286208
rss_overhead_ratio:1.62
rss_overhead_bytes:6733824
mem_fragmentation_ratio:10.09
mem_fragmentation_bytes:15874336
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704295260
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:25
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:14c8804f94295741f95691196858c3df4786fbca
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.003378
used_cpu_user:0.013513
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.003293
used_cpu_user_main_thread:0.013174

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=6,usec_per_call=6.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1393,usec_per_call=696.50,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=1,usec_per_call=1.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=6.015,p99=6.015,p99.9=6.015
latency_percentiles_usec_command:p50=671.743,p99=729.087,p99.9=729.087
latency_percentiles_usec_auth:p50=1.003,p99=1.003,p99.9=1.003

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:39180 laddr=127.0.0.1:5052 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:5660dc48b881075a993370f750177193
raft_node_id:2
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:99
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis2.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
lazyfree-lazy-eviction no
lazyfree-lazy-user-del no
lazyfree-lazy-server-del no
proto-max-bulk-len 512mb
list-compress-depth 0
replica-read-only yes
lazyfree-lazy-expire no
lazyfree-lazy-user-flush no
slave-read-only yes
io-threads-do-reads no
client-query-buffer-limit 1gb
repl-diskless-load disabled
repl-diskless-sync yes
activedefrag no
io-threads 1
sanitize-dump-payload no

------ FAST MEMORY TEST ------
1493610:M 03 Jan 2024 16:21:00.883 # Bio worker thread #0 terminated
1493610:M 03 Jan 2024 16:21:00.883 # Bio worker thread #1 terminated
1493610:M 03 Jan 2024 16:21:00.883 # Bio worker thread #2 terminated
*** Preparing to test memory region 55be577a3000 (2273280 bytes)
*** Preparing to test memory region 55be59437000 (405504 bytes)
*** Preparing to test memory region 7f27077ff000 (8388608 bytes)
*** Preparing to test memory region 7f2708000000 (8388608 bytes)
*** Preparing to test memory region 7f2708800000 (6291456 bytes)
*** Preparing to test memory region 7f2708ffb000 (8388608 bytes)
*** Preparing to test memory region 7f27097fc000 (8388608 bytes)
*** Preparing to test memory region 7f2709ffd000 (8388608 bytes)
*** Preparing to test memory region 7f270a7fe000 (8388608 bytes)
*** Preparing to test memory region 7f270afff000 (8388608 bytes)
*** Preparing to test memory region 7f270b800000 (8388608 bytes)
*** Preparing to test memory region 7f270c000000 (135168 bytes)
*** Preparing to test memory region 7f271046f000 (8388608 bytes)
*** Preparing to test memory region 7f2710c70000 (8388608 bytes)
*** Preparing to test memory region 7f2711471000 (8388608 bytes)
*** Preparing to test memory region 7f2711c72000 (8388608 bytes)
*** Preparing to test memory region 7f2712472000 (2621440 bytes)
*** Preparing to test memory region 7f2712701000 (8192 bytes)
*** Preparing to test memory region 7f2712c7f000 (12288 bytes)
*** Preparing to test memory region 7f27131fe000 (8192 bytes)
*** Preparing to test memory region 7f2713418000 (16384 bytes)
*** Preparing to test memory region 7f2713e00000 (8388608 bytes)
*** Preparing to test memory region 7f2714653000 (4096 bytes)
*** Preparing to test memory region 7f2714678000 (12288 bytes)
*** Preparing to test memory region 7f27146fd000 (45056 bytes)
*** Preparing to test memory region 7f27148dc000 (53248 bytes)
*** Preparing to test memory region 7f27149f9000 (8192 bytes)
.O.O.O.O.O.E.E.E.E.E.1493610:signal-handler (1704295261) Received SIGINT scheduling shutdown...
1493610:signal-handler (1704295261) You insist... exiting now.
1493887:C 03 Jan 2024 16:21:01.606 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1493887:C 03 Jan 2024 16:21:01.606 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1493887:C 03 Jan 2024 16:21:01.606 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1493887, just started
1493887:C 03 Jan 2024 16:21:01.606 * Configuration loaded
1493887:M 03 Jan 2024 16:21:01.606 * monotonic clock: POSIX clock_gettime
1493887:M 03 Jan 2024 16:21:01.607 * Running mode=standalone, port=5052.
1493887:M 03 Jan 2024 16:21:01.613 * <raft> RedisRaft version 255.255.255 [b779b199]
1493887:M 03 Jan 2024 16:21:01.617 * <raft> Initializing test network
1493887:M 03 Jan 2024 16:21:01.618 * <raft> Created test network client
1493887:M 03 Jan 2024 16:21:01.621 * <raft> Raft module loaded, state is 'loading'
1493887:M 03 Jan 2024 16:21:01.621 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1493887:M 03 Jan 2024 16:21:01.621 * Server initialized
1493887:M 03 Jan 2024 16:21:01.621 . The AOF directory appendonlydir doesn't exist
1493887:M 03 Jan 2024 16:21:01.621 * Ready to accept connections tcp
1493887:M 03 Jan 2024 16:21:01.622 . 0 clients connected (0 replicas), 1746688 bytes in use
1493887:M 03 Jan 2024 16:21:01.660 - Accepted 127.0.0.1:39200
1493887:M 03 Jan 2024 16:21:01.660 # Missing implement of connection type tls
1493887:M 03 Jan 2024 16:21:01.721 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1493887:M 03 Jan 2024 16:21:01.722 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1493887:M 03 Jan 2024 16:21:01.722 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1493887:M 03 Jan 2024 16:21:01.722 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1493887:M 03 Jan 2024 16:21:01.722 # Crashed running the instruction at: 0x7fa54545fd3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7fa54545fd3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7fa545410fd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7fa54545fd3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7fa545410f32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7fa5453fb472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7fa5453fb395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7fa545409e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7fa545384aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7fa545375088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(moduleTimerHandler+0x21c)[0x55eb00aa598c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(+0x81705)[0x55eb009af705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(aeMain+0x1c8)[0x55eb009b9cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(main+0x3cd)[0x55eb009aee2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7fa5453fc1ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7fa5453fc285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(_start+0x2a)[0x55eb009af5aa]

------ REGISTERS ------
1493887:M 03 Jan 2024 16:21:01.723 # 
RAX:0000000000000000 RBX:000000000016cb7f
RCX:00007fa54545fd3c RDX:0000000000000006
RDI:000000000016cb7f RSI:000000000016cb7f
RBP:00007fa5453d11c0 RSP:00007ffd26df4c40
R8 :0000000000000007 R9 :000055eb023fc820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007fa5453b105c R15:000055eb00aa42b0
RIP:00007fa54545fd3c EFL:0000000000000246
CSGSFS:002b000000000033
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c4f) -> 000055eb023fc8d0
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c4e) -> 00007fa5455a7c60
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c4d) -> 00000000000002b1
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c4c) -> 000055eb023fc820
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c4b) -> 00000000000006a6
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c4a) -> 0000000000000020
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c49) -> 00007fa5453fb472
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c48) -> 00007fa5455a8e70
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c47) -> 00007fa545410f32
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c46) -> 00007fa5453b105c
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c45) -> 00000000000006a6
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c44) -> 00007fa5453b0720
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c43) -> 00007fa5453d11c0
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c42) -> 0000000000000006
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c41) -> 73b55023a0e70500
1493887:M 03 Jan 2024 16:21:01.723 # (00007ffd26df4c40) -> 000055eb00aa42b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1493887
process_supervised:no
run_id:61abcbecf929fc90361253e114f7828d59738021
tcp_port:5052
server_time_usec:1704295261721616
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9796445
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5052

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1816896
used_memory_human:1.73M
used_memory_rss:17932288
used_memory_rss_human:17.10M
used_memory_peak:1816896
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746728
used_memory_startup:1746544
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2131088
allocator_active:2654208
allocator_resident:10842112
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.25
allocator_frag_bytes:523120
allocator_rss_ratio:4.08
allocator_rss_bytes:8187904
rss_overhead_ratio:1.65
rss_overhead_bytes:7090176
mem_fragmentation_ratio:10.27
mem_fragmentation_bytes:16185600
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704295261
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:23
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:6fcf70bbe7246eef64310293c25deeb73db39427
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.011219
used_cpu_user:0.005609
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.009878
used_cpu_user_main_thread:0.006585

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_command:calls=2,usec=1408,usec_per_call=704.00,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=1,usec_per_call=1.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=6,usec_per_call=6.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_command:p50=663.551,p99=745.471,p99.9=745.471
latency_percentiles_usec_auth:p50=1.003,p99=1.003,p99.9=1.003
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=6.015,p99=6.015,p99.9=6.015

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:39200 laddr=127.0.0.1:5052 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:5660dc48b881075a993370f750177193
raft_node_id:2
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:99
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis2.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
proto-max-bulk-len 512mb
io-threads 1
lazyfree-lazy-expire no
repl-diskless-load disabled
lazyfree-lazy-user-flush no
client-query-buffer-limit 1gb
io-threads-do-reads no
list-compress-depth 0
lazyfree-lazy-server-del no
repl-diskless-sync yes
lazyfree-lazy-eviction no
slave-read-only yes
lazyfree-lazy-user-del no
replica-read-only yes
sanitize-dump-payload no
activedefrag no

------ FAST MEMORY TEST ------
1493887:M 03 Jan 2024 16:21:01.723 # Bio worker thread #0 terminated
1493887:M 03 Jan 2024 16:21:01.723 # Bio worker thread #1 terminated
1493887:M 03 Jan 2024 16:21:01.723 # Bio worker thread #2 terminated
*** Preparing to test memory region 55eb00c85000 (2273280 bytes)
*** Preparing to test memory region 55eb023a7000 (405504 bytes)
*** Preparing to test memory region 7fa5387ff000 (8388608 bytes)
*** Preparing to test memory region 7fa539000000 (8388608 bytes)
*** Preparing to test memory region 7fa539800000 (6291456 bytes)
*** Preparing to test memory region 7fa539ffd000 (8388608 bytes)
*** Preparing to test memory region 7fa53a7fe000 (8388608 bytes)
*** Preparing to test memory region 7fa53afff000 (8388608 bytes)
*** Preparing to test memory region 7fa53b800000 (8388608 bytes)
*** Preparing to test memory region 7fa53c000000 (135168 bytes)
*** Preparing to test memory region 7fa540139000 (8388608 bytes)
*** Preparing to test memory region 7fa54093a000 (8388608 bytes)
*** Preparing to test memory region 7fa54113b000 (8388608 bytes)
*** Preparing to test memory region 7fa54193c000 (8388608 bytes)
*** Preparing to test memory region 7fa54213d000 (8388608 bytes)
*** Preparing to test memory region 7fa54293e000 (8388608 bytes)
*** Preparing to test memory region 7fa54313e000 (2621440 bytes)
*** Preparing to test memory region 7fa5433cd000 (8192 bytes)
*** Preparing to test memory region 7fa543a7f000 (12288 bytes)
*** Preparing to test memory region 7fa544018000 (16384 bytes)
*** Preparing to test memory region 7fa5440fe000 (8192 bytes)
*** Preparing to test memory region 7fa544a00000 (8388608 bytes)
*** Preparing to test memory region 7fa545275000 (4096 bytes)
*** Preparing to test memory region 7fa545345000 (12288 bytes)
*** Preparing to test memory region 7fa5453ca000 (45056 bytes)
*** Preparing to test memory region 7fa5455a9000 (53248 bytes)
*** Preparing to test memory region 7fa5456c6000 (8192 bytes)
.O.O.O.O.O.O.O.O.O.O.O.O.O.O.1493887:signal-handler (1704295261) Received SIGINT scheduling shutdown...
1493887:signal-handler (1704295261) You insist... exiting now.
O.1494085:C 03 Jan 2024 16:21:02.059 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1494085:C 03 Jan 2024 16:21:02.059 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1494085:C 03 Jan 2024 16:21:02.059 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1494085, just started
1494085:C 03 Jan 2024 16:21:02.059 * Configuration loaded
1494085:M 03 Jan 2024 16:21:02.060 * monotonic clock: POSIX clock_gettime
1494085:M 03 Jan 2024 16:21:02.060 * Running mode=standalone, port=5052.
1494085:M 03 Jan 2024 16:21:02.067 * <raft> RedisRaft version 255.255.255 [b779b199]
1494085:M 03 Jan 2024 16:21:02.071 * <raft> Initializing test network
1494085:M 03 Jan 2024 16:21:02.072 * <raft> Created test network client
1494085:M 03 Jan 2024 16:21:02.073 * <raft> Raft module loaded, state is 'loading'
1494085:M 03 Jan 2024 16:21:02.073 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1494085:M 03 Jan 2024 16:21:02.074 * Server initialized
1494085:M 03 Jan 2024 16:21:02.074 . The AOF directory appendonlydir doesn't exist
1494085:M 03 Jan 2024 16:21:02.074 * Ready to accept connections tcp
1494085:M 03 Jan 2024 16:21:02.074 . 0 clients connected (0 replicas), 1746688 bytes in use
1494085:M 03 Jan 2024 16:21:02.161 - Accepted 127.0.0.1:39216
1494085:M 03 Jan 2024 16:21:02.161 # Missing implement of connection type tls
1494085:M 03 Jan 2024 16:21:02.173 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1494085:M 03 Jan 2024 16:21:02.174 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
1494085:M 03 Jan 2024 16:21:02.174 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1494085:M 03 Jan 2024 16:21:02.174 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1494085:M 03 Jan 2024 16:21:02.174 # Crashed running the instruction at: 0x7f5b0eda4d3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f5b0eda4d3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f5b0ed55fd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f5b0eda4d3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f5b0ed55f32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f5b0ed40472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f5b0ed40395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f5b0ed4ee32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f5b0ecc9aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f5b0ecba088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(moduleTimerHandler+0x21c)[0x55d53927d98c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(+0x81705)[0x55d539187705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(aeMain+0x1c8)[0x55d539191cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(main+0x3cd)[0x55d539186e2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f5b0ed411ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f5b0ed41285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5052(_start+0x2a)[0x55d5391875aa]

------ REGISTERS ------
1494085:M 03 Jan 2024 16:21:02.175 # 
RAX:0000000000000000 RBX:000000000016cc45
RCX:00007f5b0eda4d3c RDX:0000000000000006
RDI:000000000016cc45 RSI:000000000016cc45
RBP:00007f5b0ed161c0 RSP:00007ffd2c142d80
R8 :0000000000000007 R9 :000055d539e63820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f5b0ecf605c R15:000055d53927c2b0
RIP:00007f5b0eda4d3c EFL:0000000000000246
CSGSFS:002b000000000033
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d8f) -> 000055d539e638d0
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d8e) -> 00007f5b0eeecc60
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d8d) -> 00000000000002b1
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d8c) -> 000055d539e63820
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d8b) -> 00000000000006a6
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d8a) -> 0000000000000020
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d89) -> 00007f5b0ed40472
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d88) -> 00007f5b0eeede70
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d87) -> 00007f5b0ed55f32
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d86) -> 00007f5b0ecf605c
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d85) -> 00000000000006a6
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d84) -> 00007f5b0ecf5720
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d83) -> 00007f5b0ed161c0
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d82) -> 0000000000000006
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d81) -> 467ff3a6631bbe00
1494085:M 03 Jan 2024 16:21:02.175 # (00007ffd2c142d80) -> 000055d53927c2b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1494085
process_supervised:no
run_id:1cf50f7be911ddb1c7715c92e92cf4f81c05cd9f
tcp_port:5052
server_time_usec:1704295262173652
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9796446
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5052

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1816896
used_memory_human:1.73M
used_memory_rss:18022400
used_memory_rss_human:17.19M
used_memory_peak:1816896
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746728
used_memory_startup:1746544
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2128176
allocator_active:2654208
allocator_resident:10801152
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.25
allocator_frag_bytes:526032
allocator_rss_ratio:4.07
allocator_rss_bytes:8146944
rss_overhead_ratio:1.67
rss_overhead_bytes:7221248
mem_fragmentation_ratio:10.32
mem_fragmentation_bytes:16275712
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704295262
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:26
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:08e7d6dd26fca50c25b663a9c58508fdb5279948
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.010114
used_cpu_user:0.008196
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.010753
used_cpu_user_main_thread:0.007169

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_config|set:calls=1,usec=11,usec_per_call=11.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=2,usec_per_call=2.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1570,usec_per_call=785.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_config|set:p50=11.007,p99=11.007,p99.9=11.007
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_auth:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_command:p50=724.991,p99=847.871,p99.9=847.871

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:39216 laddr=127.0.0.1:5052 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:5660dc48b881075a993370f750177193
raft_node_id:2
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:99
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis2.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
io-threads 1
proto-max-bulk-len 512mb
sanitize-dump-payload no
lazyfree-lazy-server-del no
lazyfree-lazy-expire no
replica-read-only yes
list-compress-depth 0
client-query-buffer-limit 1gb
lazyfree-lazy-user-flush no
slave-read-only yes
io-threads-do-reads no
repl-diskless-sync yes
lazyfree-lazy-eviction no
activedefrag no
repl-diskless-load disabled
lazyfree-lazy-user-del no

------ FAST MEMORY TEST ------
1494085:M 03 Jan 2024 16:21:02.175 # Bio worker thread #0 terminated
1494085:M 03 Jan 2024 16:21:02.175 # Bio worker thread #1 terminated
1494085:M 03 Jan 2024 16:21:02.175 # Bio worker thread #2 terminated
*** Preparing to test memory region 55d53945d000 (2273280 bytes)
*** Preparing to test memory region 55d539e0e000 (405504 bytes)
*** Preparing to test memory region 7f5b01fff000 (8388608 bytes)
*** Preparing to test memory region 7f5b02800000 (8388608 bytes)
*** Preparing to test memory region 7f5b03000000 (6291456 bytes)
*** Preparing to test memory region 7f5b037f8000 (8388608 bytes)
*** Preparing to test memory region 7f5b03ff9000 (8388608 bytes)
*** Preparing to test memory region 7f5b047fa000 (8388608 bytes)
*** Preparing to test memory region 7f5b04ffb000 (8388608 bytes)
*** Preparing to test memory region 7f5b057fc000 (8388608 bytes)
*** Preparing to test memory region 7f5b05ffd000 (8388608 bytes)
*** Preparing to test memory region 7f5b067fe000 (8388608 bytes)
*** Preparing to test memory region 7f5b06fff000 (8388608 bytes)
*** Preparing to test memory region 7f5b07800000 (8388608 bytes)
*** Preparing to test memory region 7f5b08000000 (135168 bytes)
*** Preparing to test memory region 7f5b0c289000 (8388608 bytes)
*** Preparing to test memory region 7f5b0ca89000 (2621440 bytes)
*** Preparing to test memory region 7f5b0cd18000 (8192 bytes)
*** Preparing to test memory region 7f5b0d27f000 (12288 bytes)
*** Preparing to test memory region 7f5b0d7fe000 (8192 bytes)
*** Preparing to test memory region 7f5b0da18000 (16384 bytes)
*** Preparing to test memory region 7f5b0e400000 (8388608 bytes)
*** Preparing to test memory region 7f5b0ec65000 (4096 bytes)
*** Preparing to test memory region 7f5b0ec8a000 (12288 bytes)
*** Preparing to test memory region 7f5b0ed0f000 (45056 bytes)
*** Preparing to test memory region 7f5b0eeee000 (53248 bytes)
*** Preparing to test memory region 7f5b0f00b000 (8192 bytes)
.O.1494085:M 03 Jan 2024 16:21:02.183 # Redis 255.255.255 crashed by signal: 11, si_code: 1
1494085:M 03 Jan 2024 16:21:02.183 # Accessing address: 0xf
1494085:M 03 Jan 2024 16:21:02.183 # Crashed running the instruction at: 0x7f5b0ece3086
1494324:C 03 Jan 2024 16:21:02.365 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1494324:C 03 Jan 2024 16:21:02.365 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1494324:C 03 Jan 2024 16:21:02.365 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1494324, just started
1494324:C 03 Jan 2024 16:21:02.365 * Configuration loaded
1494324:M 03 Jan 2024 16:21:02.365 * monotonic clock: POSIX clock_gettime
1494324:M 03 Jan 2024 16:21:02.366 * Running mode=standalone, port=5052.
1494324:M 03 Jan 2024 16:21:02.372 * <raft> RedisRaft version 255.255.255 [b779b199]
1494324:M 03 Jan 2024 16:21:02.377 * <raft> Initializing test network
1494324:M 03 Jan 2024 16:21:02.378 * <raft> Created test network client
1494324:M 03 Jan 2024 16:21:02.379 * <raft> Raft module loaded, state is 'loading'
1494324:M 03 Jan 2024 16:21:02.379 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1494324:M 03 Jan 2024 16:21:02.380 * Server initialized
1494324:M 03 Jan 2024 16:21:02.380 . The AOF directory appendonlydir doesn't exist
1494324:M 03 Jan 2024 16:21:02.380 * Ready to accept connections tcp
1494324:M 03 Jan 2024 16:21:02.380 . 0 clients connected (0 replicas), 1746592 bytes in use
1494324:signal-handler (1704295262) Received SIGINT scheduling shutdown...
1494324:signal-handler (1704295262) You insist... exiting now.

----- Stderr -----
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.




logs for node: 3

----- Stdout -----
1493010:C 03 Jan 2024 16:20:59.177 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1493010:C 03 Jan 2024 16:20:59.177 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1493010:C 03 Jan 2024 16:20:59.177 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1493010, just started
1493010:C 03 Jan 2024 16:20:59.177 * Configuration loaded
1493010:M 03 Jan 2024 16:20:59.177 * monotonic clock: POSIX clock_gettime
1493010:M 03 Jan 2024 16:20:59.178 * Running mode=standalone, port=5053.
1493010:M 03 Jan 2024 16:20:59.184 * <raft> RedisRaft version 255.255.255 [b779b199]
1493010:M 03 Jan 2024 16:20:59.189 * <raft> Initializing test network
1493010:M 03 Jan 2024 16:20:59.190 * <raft> Created test network client
1493010:M 03 Jan 2024 16:20:59.191 * <raft> Raft module loaded, state is 'uninitialized'
1493010:M 03 Jan 2024 16:20:59.191 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1493010:M 03 Jan 2024 16:20:59.191 * Server initialized
1493010:M 03 Jan 2024 16:20:59.192 . The AOF directory appendonlydir doesn't exist
1493010:M 03 Jan 2024 16:20:59.192 * Ready to accept connections tcp
1493010:M 03 Jan 2024 16:20:59.192 . 0 clients connected (0 replicas), 1726160 bytes in use
1493010:M 03 Jan 2024 16:20:59.205 - Accepted 127.0.0.1:57200
1493010:M 03 Jan 2024 16:20:59.205 # Missing implement of connection type tls
1493010:M 03 Jan 2024 16:20:59.291 - <raft> join cluster, connecting to localhost:5051
1493010:M 03 Jan 2024 16:20:59.293 * <raft> Joined Raft cluster, node id: 3, dbid: 5660dc48b881075a993370f750177193
1493010:M 03 Jan 2024 16:20:59.299 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1493010:M 03 Jan 2024 16:20:59.299 * <raft> Test network starting message polling thread
1493010:M 03 Jan 2024 16:20:59.693 * <raft> State change: Election starting, node is now a pre-candidate, term 0
1493010:M 03 Jan 2024 16:20:59.693 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1493010:M 03 Jan 2024 16:20:59.829 - Accepted 127.0.0.1:57212
1493010:M 03 Jan 2024 16:20:59.994 * <raft> State change: Election starting, node is now a pre-candidate, term 0
1493010:M 03 Jan 2024 16:20:59.994 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1493010:M 03 Jan 2024 16:21:00.314 * <raft> State change: Node is now a follower, term 2
1493010:M 03 Jan 2024 16:21:00.314 * <raft> Cluster Membership: term:2 index:0 nodes: id=3,voting=0,active=1,addr=-
1493010:M 03 Jan 2024 16:21:00.930 - Client closed connection id=9 addr=127.0.0.1:57212 laddr=127.0.0.1:5053 fd=10 name= age=1 idle=1 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=0 omem=0 tot-mem=22400 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=
1493010:signal-handler (1704295261) Received SIGINT scheduling shutdown...
1493010:signal-handler (1704295261) You insist... exiting now.
1494015:C 03 Jan 2024 16:21:01.911 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
1494015:C 03 Jan 2024 16:21:01.911 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
1494015:C 03 Jan 2024 16:21:01.911 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=1494015, just started
1494015:C 03 Jan 2024 16:21:01.911 * Configuration loaded
1494015:M 03 Jan 2024 16:21:01.911 * monotonic clock: POSIX clock_gettime
1494015:M 03 Jan 2024 16:21:01.912 * Running mode=standalone, port=5053.
1494015:M 03 Jan 2024 16:21:01.918 * <raft> RedisRaft version 255.255.255 [b779b199]
1494015:M 03 Jan 2024 16:21:01.922 * <raft> Initializing test network
1494015:M 03 Jan 2024 16:21:01.923 * <raft> Created test network client
1494015:M 03 Jan 2024 16:21:01.926 * <raft> Raft module loaded, state is 'loading'
1494015:M 03 Jan 2024 16:21:01.926 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
1494015:M 03 Jan 2024 16:21:01.927 * Server initialized
1494015:M 03 Jan 2024 16:21:01.927 . The AOF directory appendonlydir doesn't exist
1494015:M 03 Jan 2024 16:21:01.927 * Ready to accept connections tcp
1494015:M 03 Jan 2024 16:21:01.927 . 0 clients connected (0 replicas), 1746848 bytes in use
1494015:M 03 Jan 2024 16:21:01.961 - Accepted 127.0.0.1:57274
1494015:M 03 Jan 2024 16:21:01.961 # Missing implement of connection type tls
1494015:M 03 Jan 2024 16:21:02.026 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
1494015:M 03 Jan 2024 16:21:02.027 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
1494015:M 03 Jan 2024 16:21:02.027 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
1494015:M 03 Jan 2024 16:21:02.027 # Redis 255.255.255 crashed by signal: 6, si_code: -6
1494015:M 03 Jan 2024 16:21:02.027 # Crashed running the instruction at: 0x7fd9778edd3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7fd9778edd3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7fd97789efd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7fd9778edd3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7fd97789ef32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7fd977889472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7fd977889395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7fd977897e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7fd9767b4aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7fd9767a5088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5053(moduleTimerHandler+0x21c)[0x562f3beb698c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5053(+0x81705)[0x562f3bdc0705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5053(aeMain+0x1c8)[0x562f3bdcacb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5053(main+0x3cd)[0x562f3bdbfe2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7fd97788a1ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7fd97788a285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5053(_start+0x2a)[0x562f3bdc05aa]

------ REGISTERS ------
1494015:M 03 Jan 2024 16:21:02.028 # 
RAX:0000000000000000 RBX:000000000016cbff
RCX:00007fd9778edd3c RDX:0000000000000006
RDI:000000000016cbff RSI:000000000016cbff
RBP:00007fd97785f1c0 RSP:00007fff0d684a70
R8 :0000000000000007 R9 :0000562f3ca0b820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007fd9767e105c R15:0000562f3beb52b0
RIP:00007fd9778edd3c EFL:0000000000000246
CSGSFS:002b000000000033
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a7f) -> 0000562f3ca0b8d0
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a7e) -> 00007fd977a35c60
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a7d) -> 00000000000002b1
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a7c) -> 0000562f3ca0b820
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a7b) -> 00000000000006a6
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a7a) -> 0000000000000020
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a79) -> 00007fd977889472
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a78) -> 00007fd977a36e70
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a77) -> 00007fd97789ef32
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a76) -> 00007fd9767e105c
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a75) -> 00000000000006a6
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a74) -> 00007fd9767e0720
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a73) -> 00007fd97785f1c0
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a72) -> 0000000000000006
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a71) -> 85bd05ce7754fa00
1494015:M 03 Jan 2024 16:21:02.028 # (00007fff0d684a70) -> 0000562f3beb52b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:1494015
process_supervised:no
run_id:f3e20d5d032a6d2712e4d1038159f27bb0ef3155
tcp_port:5053
server_time_usec:1704295262026420
uptime_in_seconds:1
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9796445
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5053

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1817056
used_memory_human:1.73M
used_memory_rss:17534976
used_memory_rss_human:16.72M
used_memory_peak:1817056
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746888
used_memory_startup:1746704
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2102272
allocator_active:2654208
allocator_resident:10801152
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.26
allocator_frag_bytes:551936
allocator_rss_ratio:4.07
allocator_rss_bytes:8146944
rss_overhead_ratio:1.62
rss_overhead_bytes:6733824
mem_fragmentation_ratio:10.04
mem_fragmentation_bytes:15788128
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704295261
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:23
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:f00aea269085980ae7148f980bf9cdfdbf81ac04
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.008814
used_cpu_user:0.008814
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.008626
used_cpu_user_main_thread:0.008626

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_command:calls=2,usec=1465,usec_per_call=732.50,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=2,usec_per_call=2.00,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=11,usec_per_call=11.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=6,usec_per_call=2.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_command:p50=729.087,p99=741.375,p99.9=741.375
latency_percentiles_usec_auth:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=11.007,p99=11.007,p99.9=11.007
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:57274 laddr=127.0.0.1:5053 fd=11 name= age=1 idle=1 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:5660dc48b881075a993370f750177193
raft_node_id:3
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis3.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
list-compress-depth 0
repl-diskless-sync yes
proto-max-bulk-len 512mb
io-threads 1
lazyfree-lazy-user-del no
sanitize-dump-payload no
activedefrag no
replica-read-only yes
lazyfree-lazy-user-flush no
client-query-buffer-limit 1gb
io-threads-do-reads no
lazyfree-lazy-server-del no
slave-read-only yes
lazyfree-lazy-expire no
lazyfree-lazy-eviction no
repl-diskless-load disabled

------ FAST MEMORY TEST ------
1494015:M 03 Jan 2024 16:21:02.028 # Bio worker thread #0 terminated
1494015:M 03 Jan 2024 16:21:02.028 # Bio worker thread #1 terminated
1494015:M 03 Jan 2024 16:21:02.028 # Bio worker thread #2 terminated
*** Preparing to test memory region 562f3c096000 (2273280 bytes)
*** Preparing to test memory region 562f3c9b6000 (405504 bytes)
*** Preparing to test memory region 7fd96a7ff000 (8388608 bytes)
*** Preparing to test memory region 7fd96b000000 (8388608 bytes)
*** Preparing to test memory region 7fd96b800000 (6291456 bytes)
*** Preparing to test memory region 7fd96bff9000 (8388608 bytes)
*** Preparing to test memory region 7fd96c7fa000 (8388608 bytes)
*** Preparing to test memory region 7fd96cffb000 (8388608 bytes)
*** Preparing to test memory region 7fd96d7fc000 (8388608 bytes)
*** Preparing to test memory region 7fd96dffd000 (8388608 bytes)
*** Preparing to test memory region 7fd96e7fe000 (8388608 bytes)
*** Preparing to test memory region 7fd96efff000 (8388608 bytes)
*** Preparing to test memory region 7fd96f800000 (8388608 bytes)
*** Preparing to test memory region 7fd970000000 (135168 bytes)
*** Preparing to test memory region 7fd9745cd000 (8388608 bytes)
*** Preparing to test memory region 7fd974dce000 (8388608 bytes)
*** Preparing to test memory region 7fd9755ce000 (2621440 bytes)
*** Preparing to test memory region 7fd97585d000 (8192 bytes)
*** Preparing to test memory region 7fd975e7f000 (12288 bytes)
*** Preparing to test memory region 7fd976418000 (16384 bytes)
*** Preparing to test memory region 7fd97658a000 (8192 bytes)
*** Preparing to test memory region 7fd9767fa000 (24576 bytes)
*** Preparing to test memory region 7fd977000000 (8388608 bytes)
*** Preparing to test memory region 7fd977836000 (4096 bytes)
*** Preparing to test memory region 7fd97785b000 (32768 bytes)
*** Preparing to test memory region 7fd977a37000 (53248 bytes)
*** Preparing to test memory region 7fd977b54000 (8192 bytes)
.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O.O
Fast memory test PASSED, however your memory can still be broken. Please run a memory test for several hours if possible.

------ DUMPING CODE AROUND EIP ------
Symbol: (null) (base: (nil))
Module: /lib/x86_64-linux-gnu/libc.so.6 (base 0x7fd977863000)
$ xxd -r -p /tmp/dump.hex /tmp/dump.bin
$ objdump --adjust-vma=(nil) -D -b binary -m i386:x86-64 /tmp/dump.bin
------

=== REDIS BUG REPORT END. Make sure to include from START to END. ===

       Please report the crash by opening an issue on github:

           http://github.com/redis/redis/issues

  If a Redis module was involved, please open in the module's repo instead.

  Suspect RAM error? Use redis-server --test-memory to verify it.

  Some other issues could be detected by redis-server --check-system

----- Stderr -----
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.



