logs for node: 1

----- Stdout -----
3741549:C 01 Jan 2024 19:04:02.828 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3741549:C 01 Jan 2024 19:04:02.828 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3741549:C 01 Jan 2024 19:04:02.828 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3741549, just started
3741549:C 01 Jan 2024 19:04:02.828 * Configuration loaded
3741549:M 01 Jan 2024 19:04:02.829 * monotonic clock: POSIX clock_gettime
3741549:M 01 Jan 2024 19:04:02.829 * Running mode=standalone, port=5061.
3741549:M 01 Jan 2024 19:04:02.836 * <raft> RedisRaft version 255.255.255 [b779b199]
3741549:M 01 Jan 2024 19:04:02.840 * <raft> Initializing test network
3741549:M 01 Jan 2024 19:04:02.841 * <raft> Created test network client
3741549:M 01 Jan 2024 19:04:02.842 * <raft> Raft module loaded, state is 'uninitialized'
3741549:M 01 Jan 2024 19:04:02.842 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3741549:M 01 Jan 2024 19:04:02.843 * Server initialized
3741549:M 01 Jan 2024 19:04:02.843 . The AOF directory appendonlydir doesn't exist
3741549:M 01 Jan 2024 19:04:02.843 * Ready to accept connections tcp
3741549:M 01 Jan 2024 19:04:02.843 - Accepted 127.0.0.1:35442
3741549:M 01 Jan 2024 19:04:02.843 # Missing implement of connection type tls
3741549:M 01 Jan 2024 19:04:02.844 . 1 clients connected (0 replicas), 1744024 bytes in use
3741549:M 01 Jan 2024 19:04:02.850 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
3741549:M 01 Jan 2024 19:04:02.854 * <raft> State change: Node is now a leader, term 1
3741549:M 01 Jan 2024 19:04:02.855 * <raft> Cluster Membership: term:1 index:1 nodes: id=1,voting=0,active=1,addr=-
3741549:M 01 Jan 2024 19:04:02.855 * <raft> Test network starting message polling thread
3741549:M 01 Jan 2024 19:04:02.855 * <raft> Raft Cluster initialized, node id: 1, dbid: 56eda4e7f9ea9e303aebb990976558c7
3741549:M 01 Jan 2024 19:04:02.972 - Accepted 127.0.0.1:35452
3741549:M 01 Jan 2024 19:04:02.973 * <raft> Cluster Membership: term:1 index:3 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5062
3741549:M 01 Jan 2024 19:04:02.981 - Client closed connection id=9 addr=127.0.0.1:35452 laddr=127.0.0.1:5061 fd=12 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=raft.node user=default redir=-1 resp=2 lib-name= lib-ver=
3741549:M 01 Jan 2024 19:04:03.099 - Accepted 127.0.0.1:35468
3741549:M 01 Jan 2024 19:04:03.099 * <raft> Cluster Membership: term:1 index:4 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5062 id=3,voting=0,active=1,addr=localhost:5063
3741549:M 01 Jan 2024 19:04:03.106 - Client closed connection id=10 addr=127.0.0.1:35468 laddr=127.0.0.1:5061 fd=13 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=raft.node user=default redir=-1 resp=2 lib-name= lib-ver=
3741549:M 01 Jan 2024 19:04:03.903 * <raft> node:2 has sufficient logs, adding as voting node.
3741549:M 01 Jan 2024 19:04:04.953 * <raft> State change: Node is now a follower, term 1
3741549:M 01 Jan 2024 19:04:04.953 * <raft> Cluster Membership: term:1 index:6 nodes: id=1,voting=1,active=1,addr=- id=2,voting=1,active=1,addr=localhost:5062 id=3,voting=0,active=1,addr=localhost:5063
3741549:M 01 Jan 2024 19:04:05.077 - Accepted 127.0.0.1:35482
3741549:M 01 Jan 2024 19:04:05.078 - Accepted 127.0.0.1:35488
3741549:M 01 Jan 2024 19:04:05.254 * <raft> State change: Election starting, node is now a pre-candidate, term 1
3741549:M 01 Jan 2024 19:04:05.254 * <raft> Cluster Membership: term:1 index:6 nodes: id=1,voting=1,active=1,addr=- id=2,voting=1,active=1,addr=localhost:5062 id=3,voting=0,active=1,addr=localhost:5063
3741549:signal-handler (1704132245) Received SIGINT scheduling shutdown...
3741549:signal-handler (1704132245) You insist... exiting now.
3742857:C 01 Jan 2024 19:04:05.932 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3742857:C 01 Jan 2024 19:04:05.932 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3742857:C 01 Jan 2024 19:04:05.932 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3742857, just started
3742857:C 01 Jan 2024 19:04:05.932 * Configuration loaded
3742857:M 01 Jan 2024 19:04:05.933 * monotonic clock: POSIX clock_gettime
3742857:M 01 Jan 2024 19:04:05.933 * Running mode=standalone, port=5061.
3742857:M 01 Jan 2024 19:04:05.940 * <raft> RedisRaft version 255.255.255 [b779b199]
3742857:M 01 Jan 2024 19:04:05.944 * <raft> Initializing test network
3742857:M 01 Jan 2024 19:04:05.945 * <raft> Created test network client
3742857:M 01 Jan 2024 19:04:05.948 * <raft> Raft module loaded, state is 'loading'
3742857:M 01 Jan 2024 19:04:05.948 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3742857:M 01 Jan 2024 19:04:05.948 * Server initialized
3742857:M 01 Jan 2024 19:04:05.948 . The AOF directory appendonlydir doesn't exist
3742857:M 01 Jan 2024 19:04:05.948 * Ready to accept connections tcp
3742857:M 01 Jan 2024 19:04:05.948 . 0 clients connected (0 replicas), 1746848 bytes in use
3742857:M 01 Jan 2024 19:04:05.991 - Accepted 127.0.0.1:35526
3742857:M 01 Jan 2024 19:04:05.991 # Missing implement of connection type tls
3742857:M 01 Jan 2024 19:04:06.048 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
3742857:M 01 Jan 2024 19:04:06.048 * <raft> Cluster Membership: term:0 index:0 nodes: id=1,voting=0,active=1,addr=-
3742857:M 01 Jan 2024 19:04:06.049 * <raft> Test network starting message polling thread
3742857:M 01 Jan 2024 19:04:06.049 * <raft> Cluster Membership: term:0 index:6 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5062
3742857:M 01 Jan 2024 19:04:06.049 * <raft> Cluster Membership: term:0 index:6 nodes: id=1,voting=1,active=1,addr=- id=2,voting=0,active=1,addr=localhost:5062 id=3,voting=0,active=1,addr=localhost:5063
3742857:M 01 Jan 2024 19:04:06.049 * <raft> Raft state after loading log: log_count=6, first_idx=1, current_idx=6, last_applied_idx=0
3742857:M 01 Jan 2024 19:04:06.049 . <raft> Raft term=1, vote=-1
3742857:signal-handler (1704132246) Received SIGINT scheduling shutdown...
3742857:signal-handler (1704132246) You insist... exiting now.

----- Stderr -----
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48




logs for node: 2

----- Stdout -----
3741563:C 01 Jan 2024 19:04:02.858 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3741563:C 01 Jan 2024 19:04:02.858 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3741563:C 01 Jan 2024 19:04:02.858 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3741563, just started
3741563:C 01 Jan 2024 19:04:02.858 * Configuration loaded
3741563:M 01 Jan 2024 19:04:02.858 * monotonic clock: POSIX clock_gettime
3741563:M 01 Jan 2024 19:04:02.859 * Running mode=standalone, port=5062.
3741563:M 01 Jan 2024 19:04:02.865 * <raft> RedisRaft version 255.255.255 [b779b199]
3741563:M 01 Jan 2024 19:04:02.870 * <raft> Initializing test network
3741563:M 01 Jan 2024 19:04:02.871 * <raft> Created test network client
3741563:M 01 Jan 2024 19:04:02.872 * <raft> Raft module loaded, state is 'uninitialized'
3741563:M 01 Jan 2024 19:04:02.872 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3741563:M 01 Jan 2024 19:04:02.872 * Server initialized
3741563:M 01 Jan 2024 19:04:02.873 . The AOF directory appendonlydir doesn't exist
3741563:M 01 Jan 2024 19:04:02.873 * Ready to accept connections tcp
3741563:M 01 Jan 2024 19:04:02.873 . 0 clients connected (0 replicas), 1726192 bytes in use
3741563:M 01 Jan 2024 19:04:02.905 - Accepted 127.0.0.1:34468
3741563:M 01 Jan 2024 19:04:02.905 # Missing implement of connection type tls
3741563:M 01 Jan 2024 19:04:02.972 - <raft> join cluster, connecting to localhost:5061
3741563:M 01 Jan 2024 19:04:02.974 * <raft> Joined Raft cluster, node id: 2, dbid: 56eda4e7f9ea9e303aebb990976558c7
3741563:M 01 Jan 2024 19:04:02.980 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
3741563:M 01 Jan 2024 19:04:02.981 * <raft> Test network starting message polling thread
3741563:M 01 Jan 2024 19:04:03.044 - Accepted 127.0.0.1:34480
3741563:M 01 Jan 2024 19:04:03.373 * <raft> State change: Election starting, node is now a pre-candidate, term 0
3741563:M 01 Jan 2024 19:04:03.373 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
3741563:M 01 Jan 2024 19:04:03.526 * <raft> State change: Node is now a follower, term 1
3741563:M 01 Jan 2024 19:04:03.526 * <raft> Cluster Membership: term:1 index:0 nodes: id=2,voting=0,active=1,addr=-
3741563:M 01 Jan 2024 19:04:03.526 * <raft> Cluster Membership: term:1 index:2 nodes: id=2,voting=0,active=1,addr=- id=1,voting=1,active=1,addr=localhost:5061
3741563:M 01 Jan 2024 19:04:03.528 * <raft> Cluster Membership: term:1 index:4 nodes: id=2,voting=0,active=1,addr=- id=1,voting=1,active=1,addr=localhost:5061 id=3,voting=0,active=1,addr=localhost:5063
3741563:signal-handler (1704132243) Received SIGINT scheduling shutdown...
3741563:signal-handler (1704132243) You insist... exiting now.
3742280:C 01 Jan 2024 19:04:04.636 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3742280:C 01 Jan 2024 19:04:04.636 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3742280:C 01 Jan 2024 19:04:04.636 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3742280, just started
3742280:C 01 Jan 2024 19:04:04.636 * Configuration loaded
3742280:M 01 Jan 2024 19:04:04.636 * monotonic clock: POSIX clock_gettime
3742280:M 01 Jan 2024 19:04:04.637 * Running mode=standalone, port=5062.
3742280:M 01 Jan 2024 19:04:04.643 * <raft> RedisRaft version 255.255.255 [b779b199]
3742280:M 01 Jan 2024 19:04:04.647 * <raft> Initializing test network
3742280:M 01 Jan 2024 19:04:04.648 * <raft> Created test network client
3742280:M 01 Jan 2024 19:04:04.651 * <raft> Raft module loaded, state is 'loading'
3742280:M 01 Jan 2024 19:04:04.651 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3742280:M 01 Jan 2024 19:04:04.651 * Server initialized
3742280:M 01 Jan 2024 19:04:04.651 . The AOF directory appendonlydir doesn't exist
3742280:M 01 Jan 2024 19:04:04.652 * Ready to accept connections tcp
3742280:M 01 Jan 2024 19:04:04.652 . 0 clients connected (0 replicas), 1746720 bytes in use
3742280:M 01 Jan 2024 19:04:04.653 - Accepted 127.0.0.1:34564
3742280:M 01 Jan 2024 19:04:04.653 # Missing implement of connection type tls
3742280:signal-handler (1704132244) Received SIGINT scheduling shutdown...
3742280:signal-handler (1704132244) You insist... exiting now.
3742411:C 01 Jan 2024 19:04:04.959 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3742411:C 01 Jan 2024 19:04:04.959 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3742411:C 01 Jan 2024 19:04:04.959 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3742411, just started
3742411:C 01 Jan 2024 19:04:04.959 * Configuration loaded
3742411:M 01 Jan 2024 19:04:04.960 * monotonic clock: POSIX clock_gettime
3742411:M 01 Jan 2024 19:04:04.960 * Running mode=standalone, port=5062.
3742411:M 01 Jan 2024 19:04:04.966 * <raft> RedisRaft version 255.255.255 [b779b199]
3742411:M 01 Jan 2024 19:04:04.970 * <raft> Initializing test network
3742411:M 01 Jan 2024 19:04:04.971 * <raft> Created test network client
3742411:M 01 Jan 2024 19:04:04.974 * <raft> Raft module loaded, state is 'loading'
3742411:M 01 Jan 2024 19:04:04.974 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3742411:M 01 Jan 2024 19:04:04.975 * Server initialized
3742411:M 01 Jan 2024 19:04:04.975 . The AOF directory appendonlydir doesn't exist
3742411:M 01 Jan 2024 19:04:04.975 * Ready to accept connections tcp
3742411:M 01 Jan 2024 19:04:04.975 . 0 clients connected (0 replicas), 1746656 bytes in use
3742411:M 01 Jan 2024 19:04:05.055 - Accepted 127.0.0.1:34608
3742411:M 01 Jan 2024 19:04:05.055 # Missing implement of connection type tls
3742411:M 01 Jan 2024 19:04:05.075 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
3742411:M 01 Jan 2024 19:04:05.075 * <raft> Cluster Membership: term:0 index:0 nodes: id=2,voting=0,active=1,addr=-
3742411:M 01 Jan 2024 19:04:05.076 * <raft> Test network starting message polling thread
3742411:M 01 Jan 2024 19:04:05.076 * <raft> Cluster Membership: term:0 index:4 nodes: id=2,voting=0,active=1,addr=- id=1,voting=1,active=1,addr=localhost:5061
3742411:M 01 Jan 2024 19:04:05.076 * <raft> Cluster Membership: term:0 index:4 nodes: id=2,voting=0,active=1,addr=- id=1,voting=1,active=1,addr=localhost:5061 id=3,voting=0,active=1,addr=localhost:5063
3742411:M 01 Jan 2024 19:04:05.076 * <raft> Raft state after loading log: log_count=4, first_idx=1, current_idx=4, last_applied_idx=0
3742411:M 01 Jan 2024 19:04:05.076 . <raft> Raft term=1, vote=-1
3742411:M 01 Jan 2024 19:04:05.488 - Client closed connection id=8 addr=127.0.0.1:34608 laddr=127.0.0.1:5062 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=1024 rbp=0 obl=0 oll=0 omem=0 tot-mem=22400 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=
3742411:M 01 Jan 2024 19:04:05.578 * <raft> State change: Election starting, node is now a pre-candidate, term 1
3742411:M 01 Jan 2024 19:04:05.578 * <raft> Cluster Membership: term:1 index:4 nodes: id=2,voting=0,active=1,addr=- id=1,voting=1,active=1,addr=localhost:5061 id=3,voting=0,active=1,addr=localhost:5063
3742411:M 01 Jan 2024 19:04:05.672 * <raft> State change: Node is now a follower, term 1
3742411:M 01 Jan 2024 19:04:05.672 * <raft> Cluster Membership: term:1 index:4 nodes: id=2,voting=0,active=1,addr=- id=1,voting=1,active=1,addr=localhost:5061 id=3,voting=0,active=1,addr=localhost:5063
3742411:signal-handler (1704132245) Received SIGINT scheduling shutdown...
3742411:signal-handler (1704132245) You insist... exiting now.
3743074:C 01 Jan 2024 19:04:06.177 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3743074:C 01 Jan 2024 19:04:06.177 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3743074:C 01 Jan 2024 19:04:06.177 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3743074, just started
3743074:C 01 Jan 2024 19:04:06.177 * Configuration loaded
3743074:M 01 Jan 2024 19:04:06.178 * monotonic clock: POSIX clock_gettime
3743074:M 01 Jan 2024 19:04:06.178 * Running mode=standalone, port=5062.
3743074:M 01 Jan 2024 19:04:06.186 * <raft> RedisRaft version 255.255.255 [b779b199]
3743074:M 01 Jan 2024 19:04:06.190 * <raft> Initializing test network
3743074:M 01 Jan 2024 19:04:06.191 * <raft> Created test network client
3743074:M 01 Jan 2024 19:04:06.193 * <raft> Raft module loaded, state is 'loading'
3743074:M 01 Jan 2024 19:04:06.193 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3743074:M 01 Jan 2024 19:04:06.194 * Server initialized
3743074:M 01 Jan 2024 19:04:06.194 . The AOF directory appendonlydir doesn't exist
3743074:M 01 Jan 2024 19:04:06.194 * Ready to accept connections tcp
3743074:M 01 Jan 2024 19:04:06.194 . 0 clients connected (0 replicas), 1746624 bytes in use
3743074:signal-handler (1704132246) Received SIGINT scheduling shutdown...
3743074:signal-handler (1704132246) You insist... exiting now.

----- Stderr -----
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48




logs for node: 3

----- Stdout -----
3741641:C 01 Jan 2024 19:04:02.983 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3741641:C 01 Jan 2024 19:04:02.984 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3741641:C 01 Jan 2024 19:04:02.984 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3741641, just started
3741641:C 01 Jan 2024 19:04:02.984 * Configuration loaded
3741641:M 01 Jan 2024 19:04:02.984 * monotonic clock: POSIX clock_gettime
3741641:M 01 Jan 2024 19:04:02.985 * Running mode=standalone, port=5063.
3741641:M 01 Jan 2024 19:04:02.992 * <raft> RedisRaft version 255.255.255 [b779b199]
3741641:M 01 Jan 2024 19:04:02.996 * <raft> Initializing test network
3741641:M 01 Jan 2024 19:04:02.997 * <raft> Created test network client
3741641:M 01 Jan 2024 19:04:02.998 * <raft> Raft module loaded, state is 'uninitialized'
3741641:M 01 Jan 2024 19:04:02.998 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3741641:M 01 Jan 2024 19:04:02.998 * Server initialized
3741641:M 01 Jan 2024 19:04:02.999 . The AOF directory appendonlydir doesn't exist
3741641:M 01 Jan 2024 19:04:02.999 * Ready to accept connections tcp
3741641:M 01 Jan 2024 19:04:02.999 . 0 clients connected (0 replicas), 1726224 bytes in use
3741641:M 01 Jan 2024 19:04:03.005 - Accepted 127.0.0.1:45726
3741641:M 01 Jan 2024 19:04:03.005 # Missing implement of connection type tls
3741641:M 01 Jan 2024 19:04:03.098 - <raft> join cluster, connecting to localhost:5061
3741641:M 01 Jan 2024 19:04:03.100 * <raft> Joined Raft cluster, node id: 3, dbid: 56eda4e7f9ea9e303aebb990976558c7
3741641:M 01 Jan 2024 19:04:03.106 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
3741641:M 01 Jan 2024 19:04:03.106 * <raft> Test network starting message polling thread
3741641:M 01 Jan 2024 19:04:03.144 - Accepted 127.0.0.1:45728
3741641:M 01 Jan 2024 19:04:03.500 * <raft> State change: Election starting, node is now a pre-candidate, term 1
3741641:M 01 Jan 2024 19:04:03.500 * <raft> Cluster Membership: term:1 index:0 nodes: id=3,voting=0,active=1,addr=-
3741641:signal-handler (1704132243) Received SIGINT scheduling shutdown...
3741641:signal-handler (1704132243) You insist... exiting now.
3742394:C 01 Jan 2024 19:04:04.929 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3742394:C 01 Jan 2024 19:04:04.929 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3742394:C 01 Jan 2024 19:04:04.929 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3742394, just started
3742394:C 01 Jan 2024 19:04:04.929 * Configuration loaded
3742394:M 01 Jan 2024 19:04:04.929 * monotonic clock: POSIX clock_gettime
3742394:M 01 Jan 2024 19:04:04.930 * Running mode=standalone, port=5063.
3742394:M 01 Jan 2024 19:04:04.936 * <raft> RedisRaft version 255.255.255 [b779b199]
3742394:M 01 Jan 2024 19:04:04.940 * <raft> Initializing test network
3742394:M 01 Jan 2024 19:04:04.941 * <raft> Created test network client
3742394:M 01 Jan 2024 19:04:04.944 * <raft> Raft module loaded, state is 'loading'
3742394:M 01 Jan 2024 19:04:04.944 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3742394:M 01 Jan 2024 19:04:04.945 * Server initialized
3742394:M 01 Jan 2024 19:04:04.945 . The AOF directory appendonlydir doesn't exist
3742394:M 01 Jan 2024 19:04:04.945 * Ready to accept connections tcp
3742394:M 01 Jan 2024 19:04:04.945 . 0 clients connected (0 replicas), 1746720 bytes in use
3742394:M 01 Jan 2024 19:04:04.954 - Accepted 127.0.0.1:45860
3742394:M 01 Jan 2024 19:04:04.954 # Missing implement of connection type tls
3742394:M 01 Jan 2024 19:04:05.044 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
3742394:M 01 Jan 2024 19:04:05.045 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
3742394:M 01 Jan 2024 19:04:05.045 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
3742394:M 01 Jan 2024 19:04:05.045 # Redis 255.255.255 crashed by signal: 6, si_code: -6
3742394:M 01 Jan 2024 19:04:05.045 # Crashed running the instruction at: 0x7f04f91dbd3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f04f91dbd3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7f04f918cfd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7f04f91dbd3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7f04f918cf32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7f04f9177472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7f04f9177395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7f04f9185e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7f04f9100aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7f04f90f1088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(moduleTimerHandler+0x21c)[0x55ddc989498c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(+0x81705)[0x55ddc979e705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(aeMain+0x1c8)[0x55ddc97a8cb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(main+0x3cd)[0x55ddc979de2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7f04f91781ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7f04f9178285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(_start+0x2a)[0x55ddc979e5aa]

------ REGISTERS ------
3742394:M 01 Jan 2024 19:04:05.046 # 
RAX:0000000000000000 RBX:0000000000391aba
RCX:00007f04f91dbd3c RDX:0000000000000006
RDI:0000000000391aba RSI:0000000000391aba
RBP:00007f04f914d1c0 RSP:00007ffca1c707f0
R8 :0000000000000007 R9 :000055ddc9d1a820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007f04f912d05c R15:000055ddc98932b0
RIP:00007f04f91dbd3c EFL:0000000000000246
CSGSFS:002b000000000033
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707ff) -> 000055ddc9d1a8d0
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707fe) -> 00007f04f9323c60
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707fd) -> 00000000000002b1
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707fc) -> 000055ddc9d1a820
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707fb) -> 00000000000006a6
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707fa) -> 0000000000000020
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f9) -> 00007f04f9177472
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f8) -> 00007f04f9324e70
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f7) -> 00007f04f918cf32
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f6) -> 00007f04f912d05c
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f5) -> 00000000000006a6
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f4) -> 00007f04f912c720
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f3) -> 00007f04f914d1c0
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f2) -> 0000000000000006
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f1) -> e9190c4b2f33a200
3742394:M 01 Jan 2024 19:04:05.046 # (00007ffca1c707f0) -> 000055ddc98932b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:3742394
process_supervised:no
run_id:d33f8e82ca1dff5da83f1f14743e21b85e3cfba8
tcp_port:5063
server_time_usec:1704132245044554
uptime_in_seconds:1
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9633428
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5063

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1816928
used_memory_human:1.73M
used_memory_rss:18132992
used_memory_rss_human:17.29M
used_memory_peak:1816928
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746760
used_memory_startup:1746576
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2051608
allocator_active:2592768
allocator_resident:10903552
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.26
allocator_frag_bytes:541160
allocator_rss_ratio:4.21
allocator_rss_bytes:8310784
rss_overhead_ratio:1.66
rss_overhead_bytes:7229440
mem_fragmentation_ratio:10.38
mem_fragmentation_bytes:16386272
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704132244
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:23
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:d6b88a5af6181b5831c9e690b262339345db22f9
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.006865
used_cpu_user:0.010228
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.008351
used_cpu_user_main_thread:0.008351

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_command:calls=2,usec=1422,usec_per_call=711.00,rejected_calls=0,failed_calls=0
cmdstat_config|get:calls=3,usec=5,usec_per_call=1.67,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=6,usec_per_call=6.00,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=1,usec_per_call=1.00,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_command:p50=671.743,p99=753.663,p99.9=753.663
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=6.015,p99=6.015,p99.9=6.015
latency_percentiles_usec_auth:p50=1.003,p99=1.003,p99.9=1.003

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:45860 laddr=127.0.0.1:5063 fd=11 name= age=1 idle=1 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:56eda4e7f9ea9e303aebb990976558c7
raft_node_id:3
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis3.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
sanitize-dump-payload no
list-compress-depth 0
client-query-buffer-limit 1gb
lazyfree-lazy-user-del no
replica-read-only yes
io-threads-do-reads no
repl-diskless-sync yes
io-threads 1
lazyfree-lazy-server-del no
slave-read-only yes
lazyfree-lazy-expire no
activedefrag no
lazyfree-lazy-eviction no
lazyfree-lazy-user-flush no
repl-diskless-load disabled
proto-max-bulk-len 512mb

------ FAST MEMORY TEST ------
3742394:M 01 Jan 2024 19:04:05.046 # Bio worker thread #0 terminated
3742394:M 01 Jan 2024 19:04:05.046 # Bio worker thread #1 terminated
3742394:M 01 Jan 2024 19:04:05.046 # Bio worker thread #2 terminated
*** Preparing to test memory region 55ddc9a74000 (2273280 bytes)
*** Preparing to test memory region 55ddc9cc5000 (405504 bytes)
*** Preparing to test memory region 7f04ebfff000 (8388608 bytes)
*** Preparing to test memory region 7f04ec800000 (8388608 bytes)
*** Preparing to test memory region 7f04ed000000 (6291456 bytes)
*** Preparing to test memory region 7f04ed7fc000 (8388608 bytes)
*** Preparing to test memory region 7f04edffd000 (8388608 bytes)
*** Preparing to test memory region 7f04ee7fe000 (8388608 bytes)
*** Preparing to test memory region 7f04eefff000 (8388608 bytes)
*** Preparing to test memory region 7f04ef800000 (8388608 bytes)
*** Preparing to test memory region 7f04f0000000 (135168 bytes)
*** Preparing to test memory region 7f04f46a2000 (8388608 bytes)
*** Preparing to test memory region 7f04f4ea3000 (8388608 bytes)
*** Preparing to test memory region 7f04f56a4000 (8388608 bytes)
*** Preparing to test memory region 7f04f5ea5000 (8388608 bytes)
*** Preparing to test memory region 7f04f66a6000 (8388608 bytes)
*** Preparing to test memory region 7f04f6ea6000 (2621440 bytes)
*** Preparing to test memory region 7f04f767f000 (12288 bytes)
*** Preparing to test memory region 7f04f76a8000 (8192 bytes)
*** Preparing to test memory region 7f04f7bfe000 (8192 bytes)
*** Preparing to test memory region 7f04f7e18000 (16384 bytes)
*** Preparing to test memory region 7f04f8800000 (8388608 bytes)
*** Preparing to test memory region 7f04f909c000 (4096 bytes)
*** Preparing to test memory region 7f04f90c1000 (12288 bytes)
*** Preparing to test memory region 7f04f9146000 (45056 bytes)
*** Preparing to test memory region 7f04f9325000 (53248 bytes)
*** Preparing to test memory region 7f04f9442000 (8192 bytes)
.3743016:C 01 Jan 2024 19:04:06.116 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3743016:C 01 Jan 2024 19:04:06.116 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3743016:C 01 Jan 2024 19:04:06.116 * Redis version=255.255.255, bits=64, commit=e04ebdb8, modified=1, pid=3743016, just started
3743016:C 01 Jan 2024 19:04:06.116 * Configuration loaded
3743016:M 01 Jan 2024 19:04:06.116 * monotonic clock: POSIX clock_gettime
3743016:M 01 Jan 2024 19:04:06.117 * Running mode=standalone, port=5063.
3743016:M 01 Jan 2024 19:04:06.123 * <raft> RedisRaft version 255.255.255 [b779b199]
3743016:M 01 Jan 2024 19:04:06.128 * <raft> Initializing test network
3743016:M 01 Jan 2024 19:04:06.128 * <raft> Created test network client
3743016:M 01 Jan 2024 19:04:06.131 * <raft> Raft module loaded, state is 'loading'
3743016:M 01 Jan 2024 19:04:06.131 * Module 'raft' loaded from /home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so
3743016:M 01 Jan 2024 19:04:06.132 * Server initialized
3743016:M 01 Jan 2024 19:04:06.132 . The AOF directory appendonlydir doesn't exist
3743016:M 01 Jan 2024 19:04:06.132 * Ready to accept connections tcp
3743016:M 01 Jan 2024 19:04:06.132 . 0 clients connected (0 replicas), 1746848 bytes in use
3743016:M 01 Jan 2024 19:04:06.151 - Accepted 127.0.0.1:46028
3743016:M 01 Jan 2024 19:04:06.151 # Missing implement of connection type tls
3743016:M 01 Jan 2024 19:04:06.232 * <raft> Loading: Redis loading complete, snapshot NOT LOADED
3743016:M 01 Jan 2024 19:04:06.232 * <raft> Cluster Membership: term:0 index:0 nodes: id=3,voting=0,active=1,addr=-
3743016:M 01 Jan 2024 19:04:06.233 * <raft> Test network starting message polling thread


=== REDIS BUG REPORT START: Cut & paste starting from here ===
3743016:M 01 Jan 2024 19:04:06.233 # Redis 255.255.255 crashed by signal: 6, si_code: -6
3743016:M 01 Jan 2024 19:04:06.233 # Crashed running the instruction at: 0x7fb1dac6cd3c

------ STACK TRACE ------
EIP:
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7fb1dac6cd3c]

Backtrace:
/lib/x86_64-linux-gnu/libc.so.6(+0x3bfd0)[0x7fb1dac1dfd0]
/lib/x86_64-linux-gnu/libc.so.6(+0x8ad3c)[0x7fb1dac6cd3c]
/lib/x86_64-linux-gnu/libc.so.6(gsignal+0x12)[0x7fb1dac1df32]
/lib/x86_64-linux-gnu/libc.so.6(abort+0xd3)[0x7fb1dac08472]
/lib/x86_64-linux-gnu/libc.so.6(+0x26395)[0x7fb1dac08395]
/lib/x86_64-linux-gnu/libc.so.6(+0x34e32)[0x7fb1dac16e32]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(+0x3caea)[0x7fb1dab91aea]
/home/snagendra/Fuzzing/redisraft-fuzzing/redisraft.so(callRaftPeriodic+0x478)[0x7fb1dab82088]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(moduleTimerHandler+0x21c)[0x55da3700b98c]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(+0x81705)[0x55da36f15705]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(aeMain+0x1c8)[0x55da36f1fcb8]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(main+0x3cd)[0x55da36f14e2d]
/lib/x86_64-linux-gnu/libc.so.6(+0x271ca)[0x7fb1dac091ca]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x85)[0x7fb1dac09285]
/home/snagendra/Fuzzing/redis/src/redis-server 0.0.0.0:5063(_start+0x2a)[0x55da36f155aa]

------ REGISTERS ------
3743016:M 01 Jan 2024 19:04:06.233 # 
RAX:0000000000000000 RBX:0000000000391d28
RCX:00007fb1dac6cd3c RDX:0000000000000006
RDI:0000000000391d28 RSI:0000000000391d28
RBP:00007fb1dabde1c0 RSP:00007fffab2dfc50
R8 :0000000000000007 R9 :000055da38665820
R10:0000000000000008 R11:0000000000000246
R12:0000000000000006 R13:00000000000006a6
R14:00007fb1dabbe05c R15:000055da3700a2b0
RIP:00007fb1dac6cd3c EFL:0000000000000246
CSGSFS:002b000000000033
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc5f) -> 000055da386658d0
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc5e) -> 00007fb1dadb4c60
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc5d) -> 00000000000002b1
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc5c) -> 000055da38665820
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc5b) -> 00000000000006a6
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc5a) -> 0000000000000020
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc59) -> 00007fb1dac08472
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc58) -> 00007fb1dadb5e70
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc57) -> 00007fb1dac1df32
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc56) -> 00007fb1dabbe05c
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc55) -> 00000000000006a6
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc54) -> 00007fb1dabbd720
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc53) -> 00007fb1dabde1c0
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc52) -> 0000000000000006
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc51) -> 15c68ae577d4e200
3743016:M 01 Jan 2024 19:04:06.233 # (00007fffab2dfc50) -> 000055da3700a2b0

------ INFO OUTPUT ------
# Server
redis_version:255.255.255
redis_git_sha1:e04ebdb8
redis_git_dirty:1
redis_build_id:1f78dcc7b4fbdd25
redis_mode:standalone
os:Linux 6.1.60.1.amd64-smp x86_64
arch_bits:64
monotonic_clock:POSIX clock_gettime
multiplexing_api:epoll
atomicvar_api:c11-builtin
gcc_version:10.2.1
process_id:3743016
process_supervised:no
run_id:b7b4f0097d3f9c7bb2f5996a9ce22ffb595b3592
tcp_port:5063
server_time_usec:1704132246232262
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:9633430
executable:/home/snagendra/Fuzzing/redis/src/redis-server
config_file:
io_threads_active:0
listener0:name=tcp,bind=0.0.0.0,port=5063

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:0
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0
total_blocking_keys:0
total_blocking_keys_on_nokey:0

# Memory
used_memory:1817056
used_memory_human:1.73M
used_memory_rss:18038784
used_memory_rss_human:17.20M
used_memory_peak:1817056
used_memory_peak_human:1.73M
used_memory_peak_perc:100.39%
used_memory_overhead:1746888
used_memory_startup:1746704
used_memory_dataset:70168
used_memory_dataset_perc:99.74%
allocator_allocated:2159368
allocator_active:2703360
allocator_resident:10862592
total_system_memory:270388695040
total_system_memory_human:251.82G
used_memory_lua:31744
used_memory_vm_eval:31744
used_memory_lua_human:31.00K
used_memory_scripts_eval:0
number_of_cached_scripts:0
number_of_functions:0
number_of_libraries:0
used_memory_vm_functions:32768
used_memory_vm_total:64512
used_memory_vm_total_human:63.00K
used_memory_functions:184
used_memory_scripts:184
used_memory_scripts_human:184B
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.25
allocator_frag_bytes:543992
allocator_rss_ratio:4.02
allocator_rss_bytes:8159232
rss_overhead_ratio:1.66
rss_overhead_bytes:7176192
mem_fragmentation_ratio:10.33
mem_fragmentation_bytes:16291936
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_total_replication_buffers:0
mem_clients_slaves:0
mem_clients_normal:0
mem_cluster_links:0
mem_aof_buffer:0
mem_allocator:jemalloc-5.3.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
async_loading:0
current_cow_peak:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:0
rdb_bgsave_in_progress:0
rdb_last_save_time:1704132246
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_saves:0
rdb_last_cow_size:0
rdb_last_load_keys_expired:0
rdb_last_load_keys_loaded:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_rewrites:0
aof_rewrites_consecutive_failures:0
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:7
instantaneous_ops_per_sec:25
total_net_input_bytes:33
total_net_output_bytes:5
total_net_repl_input_bytes:0
total_net_repl_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
instantaneous_input_repl_kbps:0.00
instantaneous_output_repl_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:0
evicted_keys:0
evicted_clients:0
total_eviction_exceeded_time:0
current_eviction_exceeded_time:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
pubsubshard_channels:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
total_active_defrag_time:0
current_active_defrag_time:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:1
io_threaded_reads_processed:0
io_threaded_writes_processed:0
reply_buffer_shrinks:0
reply_buffer_expands:0
acl_access_denied_auth:0
acl_access_denied_cmd:0
acl_access_denied_key:0
acl_access_denied_channel:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:f8e801636d62ca70e57e34ec9e39e3df9a6ffd69
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.000000
used_cpu_user:0.017491
used_cpu_sys_children:0.000000
used_cpu_user_children:0.000000
used_cpu_sys_main_thread:0.000000
used_cpu_user_main_thread:0.017096

# Modules
module:name=raft,ver=1,api=1,filters=1,usedby=[],using=[],options=[]

# Commandstats
cmdstat_config|get:calls=3,usec=4,usec_per_call=1.33,rejected_calls=0,failed_calls=0
cmdstat_config|set:calls=1,usec=10,usec_per_call=10.00,rejected_calls=0,failed_calls=0
cmdstat_auth:calls=1,usec=1,usec_per_call=1.00,rejected_calls=0,failed_calls=0
cmdstat_command:calls=2,usec=1485,usec_per_call=742.50,rejected_calls=0,failed_calls=0

# Errorstats

# Latencystats
latency_percentiles_usec_config|get:p50=2.007,p99=2.007,p99.9=2.007
latency_percentiles_usec_config|set:p50=10.047,p99=10.047,p99.9=10.047
latency_percentiles_usec_auth:p50=1.003,p99=1.003,p99.9=1.003
latency_percentiles_usec_command:p50=708.607,p99=782.335,p99.9=782.335

# Cluster
cluster_enabled:0

# Keyspace

------ CLIENT LIST OUTPUT ------
id=8 addr=127.0.0.1:46028 laddr=127.0.0.1:5063 fd=11 name= age=0 idle=0 flags=N db=0 sub=0 psub=0 ssub=0 multi=-1 qbuf=0 qbuf-free=20474 argv-mem=0 multi-mem=0 rbs=16384 rbp=16384 obl=0 oll=0 omem=0 tot-mem=37760 events=r cmd=auth user=default redir=-1 resp=2 lib-name= lib-ver=

------ MODULES INFO OUTPUT ------
# raft_version
raft_version:255.255.255
raft_git_sha1:b779b199

# raft_general
raft_dbid:56eda4e7f9ea9e303aebb990976558c7
raft_node_id:3
raft_state:up
raft_role:follower
raft_is_voting:no
raft_voted_for:-1
raft_leader_id:-1
raft_current_term:0
raft_num_nodes:1
raft_num_voting_nodes:0

# raft_log
raft_log_entries:0
raft_current_index:0
raft_commit_index:0
raft_last_applied_index:0
raft_file_size:101
raft_cache_memory_size:0
raft_cache_entries:0
raft_client_attached_entries:0
raft_fsync_count:0
raft_fsync_max_microseconds:0
raft_fsync_avg_microseconds:0

# raft_snapshot
raft_snapshot_filename:redis3.rdb
raft_snapshot_last_idx:0
raft_snapshot_last_term:0
raft_snapshot_size:0
raft_snapshot_time_secs:-1
raft_snapshots_created:0
raft_snapshots_received:0
raft_snapshot_in_progress:no
raft_snapshot_in_progress_last_idx:-1
raft_snapshot_in_progress_last_term:-1

# raft_clients
raft_proxy_reqs:0
raft_proxy_failed_reqs:0
raft_proxy_failed_responses:0
raft_proxy_outstanding_reqs:0

# raft_stats
raft_appendreq_received:0
raft_appendreq_with_entry_received:0
raft_snapshotreq_received:0
raft_exec_throttled:0
raft_num_sessions:0

------ CONFIG DEBUG OUTPUT ------
replica-read-only yes
lazyfree-lazy-expire no
lazyfree-lazy-user-del no
sanitize-dump-payload no
lazyfree-lazy-server-del no
slave-read-only yes
io-threads-do-reads no
activedefrag no
repl-diskless-sync yes
list-compress-depth 0
client-query-buffer-limit 1gb
io-threads 1
lazyfree-lazy-user-flush no
lazyfree-lazy-eviction no
repl-diskless-load disabled
proto-max-bulk-len 512mb

------ FAST MEMORY TEST ------
3743016:M 01 Jan 2024 19:04:06.234 # Bio worker thread #0 terminated
3743016:M 01 Jan 2024 19:04:06.234 # Bio worker thread #1 terminated
3743016:M 01 Jan 2024 19:04:06.234 # Bio worker thread #2 terminated
*** Preparing to test memory region 55da371eb000 (2273280 bytes)
*** Preparing to test memory region 55da38610000 (405504 bytes)
*** Preparing to test memory region 7fb1cdfff000 (8388608 bytes)
*** Preparing to test memory region 7fb1ce800000 (8388608 bytes)
*** Preparing to test memory region 7fb1cf000000 (6291456 bytes)
*** Preparing to test memory region 7fb1cf7f8000 (8388608 bytes)
*** Preparing to test memory region 7fb1cfff9000 (8388608 bytes)
*** Preparing to test memory region 7fb1d07fa000 (8388608 bytes)
*** Preparing to test memory region 7fb1d0ffb000 (8388608 bytes)
*** Preparing to test memory region 7fb1d17fc000 (8388608 bytes)
*** Preparing to test memory region 7fb1d1ffd000 (8388608 bytes)
*** Preparing to test memory region 7fb1d27fe000 (8388608 bytes)
*** Preparing to test memory region 7fb1d2fff000 (8388608 bytes)
*** Preparing to test memory region 7fb1d3800000 (8388608 bytes)
*** Preparing to test memory region 7fb1d4000000 (135168 bytes)
*** Preparing to test memory region 7fb1d814f000 (8388608 bytes)
*** Preparing to test memory region 7fb1d894f000 (2621440 bytes)
*** Preparing to test memory region 7fb1d927f000 (12288 bytes)
*** Preparing to test memory region 7fb1d9292000 (8192 bytes)
*** Preparing to test memory region 7fb1d9818000 (16384 bytes)
*** Preparing to test memory region 7fb1d98fe000 (8192 bytes)
*** Preparing to test memory region 7fb1da200000 (8388608 bytes)
*** Preparing to test memory region 7fb1daa82000 (4096 bytes)
*** Preparing to test memory region 7fb1dab52000 (12288 bytes)
*** Preparing to test memory region 7fb1dabd7000 (45056 bytes)
*** Preparing to test memory region 7fb1dadb6000 (53248 bytes)
*** Preparing to test memory region 7fb1daed3000 (8192 bytes)
.O.O.O.3743016:signal-handler (1704132246) Received SIGINT scheduling shutdown...
3743016:signal-handler (1704132246) You insist... exiting now.

----- Stderr -----
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
redis-server: pthread_mutex_lock.c:94: ___pthread_mutex_lock: Assertion `mutex->__data.__owner == 0' failed.
redis-server: /home/snagendra/Fuzzing/redisraft-fuzzing/deps/raft/src/raft_server.c:1702: raft_get_first_entry_idx: Assertion `0 < raft_get_current_idx(me)' failed.
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_node.c.gcda:Merge mismatch for function 5
libgcov profiling error:/home/snagendra/Fuzzing/redisraft-fuzzing/build/deps/raft/CMakeFiles/raft.dir/src/raft_server.c.gcda:Merge mismatch for function 48



